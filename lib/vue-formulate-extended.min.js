var VueFormulateExtended=function(t){"use strict";var e=function(t){if("string"!=typeof t)return!1;var e=t.match(r);if(!e)return!1;var o=e[1];if(!o)return!1;if(n.test(o)||i.test(o))return!0;return!1},r=/^(?:\w+:)?\/\/(\S+)$/,n=/^localhost[\:?\d]*(?:[^\:?\d]\S*)?$/,i=/^[^\s\.]+\.\S{2,}$/;for(var o="-_",s=36;s--;)o+=s.toString(36);for(s=36;s---10;)o+=s.toString(36).toUpperCase();var a=function(t){var e="";for(s=t||21;s--;)e+=o[64*Math.random()|0];return e};
/*!
   * isobject <https://github.com/jonschlinkert/isobject>
   *
   * Copyright (c) 2014-2017, Jon Schlinkert.
   * Released under the MIT License.
   */
/*!
   * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
   *
   * Copyright (c) 2014-2017, Jon Schlinkert.
   * Released under the MIT License.
   */
function u(t){return!0==(null!=(e=t)&&"object"==typeof e&&!1===Array.isArray(e))&&"[object Object]"===Object.prototype.toString.call(t);var e}function l(t){var e,r;return!1!==u(t)&&("function"==typeof(e=t.constructor)&&(!1!==u(r=e.prototype)&&!1!==r.hasOwnProperty("isPrototypeOf")))}function c(t){return"string"==typeof t?t[0].toUpperCase()+t.substr(1):t}var h={accepted:function(t){return"Please accept the "+t.name+"."},after:function(t){var e=t.name,r=t.args;return Array.isArray(r)&&r.length?c(e)+" must be after "+r[0]+".":c(e)+" must be a later date."},alpha:function(t){return c(t.name)+" can only contain alphabetical characters."},alphanumeric:function(t){return c(t.name)+" can only contain letters and numbers."},before:function(t){var e=t.name,r=t.args;return Array.isArray(r)&&r.length?c(e)+" must be before "+r[0]+".":c(e)+" must be an earlier date."},between:function(t){var e=t.name,r=t.value,n=t.args,i=!(!Array.isArray(n)||!n[2])&&n[2];return!isNaN(r)&&"length"!==i||"value"===i?c(e)+" must be between "+n[0]+" and "+n[1]+".":c(e)+" must be between "+n[0]+" and "+n[1]+" characters long."},confirm:function(t){var e=t.name;return t.args,c(e)+" does not match."},date:function(t){var e=t.name,r=t.args;return Array.isArray(r)&&r.length?c(e)+" is not a valid date, please use the format "+r[0]:c(e)+" is not a valid date."},default:function(t){return t.name,"This field isn’t valid."},email:function(t){t.name;var e=t.value;return e?"“"+e+"” is not a valid email address.":"Please enter a valid email address."},endsWith:function(t){t.name;var e=t.value;return e?"“"+e+"” doesn’t end with a valid value.":"This field doesn’t end with a valid value."},in:function(t){var e=t.name,r=t.value;return"string"==typeof r&&r?"“"+c(r)+"” is not an allowed "+e+".":"This is not an allowed "+e+"."},matches:function(t){return c(t.name)+" is not an allowed value."},max:function(t){var e=t.name,r=t.value,n=t.args;if(Array.isArray(r))return"You may only select "+n[0]+" "+e+".";var i=!(!Array.isArray(n)||!n[1])&&n[1];return!isNaN(r)&&"length"!==i||"value"===i?c(e)+" must be less than or equal to "+n[0]+".":c(e)+" must be less than or equal to "+n[0]+" characters long."},mime:function(t){var e=t.name,r=t.args;return c(e)+" must be of the the type: "+(r[0]||"No file formats allowed.")},min:function(t){var e=t.name,r=t.value,n=t.args;if(Array.isArray(r))return"You need at least "+n[0]+" "+e+".";var i=!(!Array.isArray(n)||!n[1])&&n[1];return!isNaN(r)&&"length"!==i||"value"===i?c(e)+" must be at least "+n[0]+".":c(e)+" must be at least "+n[0]+" characters long."},not:function(t){var e=t.name;return"“"+t.value+"” is not an allowed "+e+"."},number:function(t){return c(t.name)+" must be a number."},required:function(t){return c(t.name)+" is required."},startsWith:function(t){t.name;var e=t.value;return e?"“"+e+"” doesn’t start with a valid value.":"This field doesn’t start with a valid value."},url:function(t){return t.name,"Please include a valid url."}};function d(t){var e;t.extend({locales:(e={},e.en=h,e)})}var p=function(t,e){return{classification:t,component:"FormulateInput"+(e||t[0].toUpperCase()+t.substr(1))}},f=Object.assign({},["text","email","number","color","date","hidden","month","password","search","tel","time","url","week","datetime-local"].reduce((function(t,e){var r;return Object.assign({},t,((r={})[e]=p("text"),r))}),{}),{range:p("slider"),textarea:p("textarea","TextArea"),checkbox:p("box"),radio:p("box"),submit:p("button"),button:p("button"),select:p("select"),file:p("file"),image:p("file"),group:p("group")}),m=function(t,e,r){void 0===r&&(r={}),this.input=t,this.fileList=t.files,this.files=[],this.options=Object.assign({},{mimes:{}},r),this.results=!1,this.context=e,Array.isArray(this.fileList)?this.rehydrateFileList(this.fileList):this.addFileList(this.fileList)};function v(t,e){var r={};for(var n in t)r[n]=e(n,t[n]);return r}function y(t,e){if(t===e)return!0;if(!t||!e)return!1;var r=Object.keys(t),n=Object.keys(e),i=r.length;if(n.length!==i)return!1;for(var o=0;o<i;o++){var s=r[o];if(t[s]!==e[s])return!1}return!0}function g(t){return"string"==typeof t?t.replace(/([_-][a-z0-9])/gi,(function(e){return 0===t.indexOf(e)||/[_-]/.test(t[t.indexOf(e)-1])?e:e.toUpperCase().replace(/[_-]/,"")})):t}function b(t){return"string"==typeof t?t[0].toUpperCase()+t.substr(1):t}function x(t){return t?"string"==typeof t?[t]:Array.isArray(t)?t:"object"==typeof t?Object.values(t):[]:[]}function _(t){return/^[\^]/.test(t.charAt(0))?[g(t.substr(1)),t.charAt(0)]:[g(t),null]}function k(t){switch(typeof t){case"symbol":case"number":case"string":case"boolean":case"undefined":return!0;default:return null===t}}function E(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function A(t,e){return Object.defineProperty(t,"__id",Object.assign(Object.create(null),{value:e||Symbol("uuid")}))}function F(t){return"number"!=typeof t&&(void 0===t||""===t||null===t||!1===t||Array.isArray(t)&&!t.some((function(t){return!F(t)}))||t&&!Array.isArray(t)&&"object"==typeof t&&F(Object.values(t)))}m.prototype.rehydrateFileList=function(t){var e=this,r=t.reduce((function(t,r){var n=r[e.options?e.options.fileUrlKey:"url"],i=!(!n||-1===n.lastIndexOf("."))&&n.substr(n.lastIndexOf(".")+1),o=e.options.mimes[i]||!1;return t.push(Object.assign({},r,n?{name:n.substr(n.lastIndexOf("/")+1||0),type:r.type?r.type:o,previewData:n}:{})),t}),[]);this.results=t,this.addFileList(r)},m.prototype.addFileList=function(t){for(var e=this,r=function(r){var n=t[r],i=a();e.files.push({progress:!1,error:!1,complete:!1,justFinished:!1,name:n.name||"file-upload",file:n,uuid:i,path:!1,removeFile:function(){this.removeFile(i)}.bind(e),previewData:n.previewData||!1})},n=0;n<t.length;n++)r(n)},m.prototype.hasUploader=function(){return!!this.context.uploader},m.prototype.uploaderIsAxios=function(){return!(!this.hasUploader||"function"!=typeof this.context.uploader.request||"function"!=typeof this.context.uploader.get||"function"!=typeof this.context.uploader.delete||"function"!=typeof this.context.uploader.post)},m.prototype.getUploader=function(){for(var t,e=arguments,r=[],n=arguments.length;n--;)r[n]=e[n];if(this.uploaderIsAxios()){var i=new FormData;if(i.append(this.context.name||"file",r[0]),!1===this.context.uploadUrl)throw new Error("No uploadURL specified: https://vueformulate.com/guide/inputs/file/#props");return this.context.uploader.post(this.context.uploadUrl,i,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:function(t){r[1](Math.round(100*t.loaded/t.total))}}).then((function(t){return t.data})).catch((function(t){return r[2](t)}))}return(t=this.context).uploader.apply(t,r)},m.prototype.upload=function(){var t=this;return this.results?Promise.resolve(this.results):new Promise((function(e,r){if(!t.hasUploader)return r(new Error("No uploader has been defined"));Promise.all(t.files.map((function(e){return e.path?Promise.resolve(e.path):t.getUploader(e.file,(function(r){e.progress=r,r>=100&&(e.complete||(e.justFinished=!0,setTimeout((function(){e.justFinished=!1}),t.options.uploadJustCompleteDuration)),e.complete=!0)}),(function(t){e.progress=0,e.error=t,e.complete=!0}),t.options)}))).then((function(r){t.results=r,e(r)})).catch((function(t){throw new Error(t)}))}))},m.prototype.removeFile=function(t){if(this.files=this.files.filter((function(e){return e.uuid!==t})),this.context.performValidation(),window&&this.fileList instanceof FileList){var e=new DataTransfer;this.files.map((function(t){return e.items.add(t.file)})),this.fileList=e.files,this.input.files=this.fileList}},m.prototype.loadPreviews=function(){this.files.map((function(t){if(!t.previewData&&window&&window.FileReader&&/^image\//.test(t.file.type)){var e=new FileReader;e.onload=function(e){return Object.assign(t,{previewData:e.target.result})},e.readAsDataURL(t.file)}}))},m.prototype.getFileList=function(){return this.fileList},m.prototype.getFiles=function(){return this.files},m.prototype.toString=function(){var t=this.files.length?this.files.length+" files":"empty";return this.results?JSON.stringify(this.results,null,"  "):"FileUpload("+t+")"};var w,P={accepted:function(t){var e=t.value;return Promise.resolve(["yes","on","1",1,!0,"true"].includes(e))},after:function(t,e){var r=t.value;void 0===e&&(e=!1);var n=Date.parse(e||new Date),i=Date.parse(r);return Promise.resolve(!isNaN(i)&&i>n)},alpha:function(t,e){var r=t.value;void 0===e&&(e="default");var n={default:/^[a-zA-ZÀ-ÖØ-öø-ÿĄąĆćĘęŁłŃńŚśŹźŻż]+$/,latin:/^[a-zA-Z]+$/},i=n.hasOwnProperty(e)?e:"default";return Promise.resolve(n[i].test(r))},alphanumeric:function(t,e){var r=t.value;void 0===e&&(e="default");var n={default:/^[a-zA-Z0-9À-ÖØ-öø-ÿĄąĆćĘęŁłŃńŚśŹźŻż]+$/,latin:/^[a-zA-Z0-9]+$/},i=n.hasOwnProperty(e)?e:"default";return Promise.resolve(n[i].test(r))},before:function(t,e){var r=t.value;void 0===e&&(e=!1);var n=Date.parse(e||new Date),i=Date.parse(r);return Promise.resolve(!isNaN(i)&&i<n)},between:function(t,e,r,n){var i=t.value;return void 0===e&&(e=0),void 0===r&&(r=10),Promise.resolve(null!==e&&null!==r&&!isNaN(e)&&!isNaN(r)&&(!isNaN(i)&&"length"!==n||"value"===n?(i=Number(i),e=Number(e),r=Number(r),i>e&&i<r):("string"==typeof i||"length"===n)&&(i=isNaN(i)?i:i.toString()).length>e&&i.length<r))},confirm:function(t,e){var r,n,i=t.value,o=t.getFormValues,s=t.name;return Promise.resolve((r=o(),(n=e)||(n=/_confirm$/.test(s)?s.substr(0,s.length-8):s+"_confirm"),r[n]===i))},date:function(t,e){var r=t.value;return void 0===e&&(e=!1),Promise.resolve(e&&"string"==typeof e?function(t){var e="^"+t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")+"$",r={MM:"(0[1-9]|1[012])",M:"([1-9]|1[012])",DD:"([012][0-9]|3[01])",D:"([012]?[1-9]|3[01])",YYYY:"\\d{4}",YY:"\\d{2}"};return new RegExp(Object.keys(r).reduce((function(t,e){return t.replace(e,r[e])}),e))}(e).test(r):!isNaN(Date.parse(r)))},email:function(t){var e=t.value;return Promise.resolve(/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i.test(e))},endsWith:function(t){for(var e=arguments,r=t.value,n=[],i=arguments.length-1;i-- >0;)n[i]=e[i+1];return Promise.resolve("string"==typeof r&&n.length?void 0!==n.find((function(t){return r.endsWith(t)})):"string"==typeof r&&0===n.length)},in:function(t){for(var e=arguments,r=t.value,n=[],i=arguments.length-1;i-- >0;)n[i]=e[i+1];return Promise.resolve(void 0!==n.find((function(t){return"object"==typeof t?y(t,r):t===r})))},matches:function(t){for(var e=arguments,r=t.value,n=[],i=arguments.length-1;i-- >0;)n[i]=e[i+1];return Promise.resolve(!!n.find((function(t){return"string"==typeof t&&"/"===t.substr(0,1)&&"/"===t.substr(-1)&&(t=new RegExp(t.substr(1,t.length-2))),t instanceof RegExp?t.test(r):t===r})))},mime:function(t){for(var e=arguments,r=t.value,n=[],i=arguments.length-1;i-- >0;)n[i]=e[i+1];return Promise.resolve(function(){if(r instanceof m)for(var t=r.getFiles(),e=0;e<t.length;e++){var i=t[e].file;if(!n.includes(i.type))return!1}return!0}())},min:function(t,e,r){var n=t.value;return void 0===e&&(e=1),Promise.resolve(Array.isArray(n)?(e=isNaN(e)?e:Number(e),n.length>=e):!isNaN(n)&&"length"!==r||"value"===r?(n=isNaN(n)?n:Number(n))>=e:("string"==typeof n||"length"===r)&&(n=isNaN(n)?n:n.toString()).length>=e)},max:function(t,e,r){var n=t.value;return void 0===e&&(e=10),Promise.resolve(Array.isArray(n)?(e=isNaN(e)?e:Number(e),n.length<=e):!isNaN(n)&&"length"!==r||"value"===r?(n=isNaN(n)?n:Number(n))<=e:("string"==typeof n||"length"===r)&&(n=isNaN(n)?n:n.toString()).length<=e)},not:function(t){for(var e=arguments,r=t.value,n=[],i=arguments.length-1;i-- >0;)n[i]=e[i+1];return Promise.resolve(void 0===n.find((function(t){return"object"==typeof t?y(t,r):t===r})))},number:function(t){var e=t.value;return Promise.resolve(!isNaN(e))},required:function(t,e){var r=t.value;return void 0===e&&(e=!0),Promise.resolve(!(e&&!["no","false"].includes(e))||(Array.isArray(r)?!!r.length:r instanceof m?r.getFiles().length>0:"string"==typeof r?!!r:"object"!=typeof r||!!r&&!!Object.keys(r).length))},startsWith:function(t){for(var e=arguments,r=t.value,n=[],i=arguments.length-1;i-- >0;)n[i]=e[i+1];return Promise.resolve("string"==typeof r&&n.length?void 0!==n.find((function(t){return r.startsWith(t)})):"string"==typeof r&&0===n.length)},url:function(t){var r=t.value;return Promise.resolve(e(r))},bail:function(){return Promise.resolve(!0)},optional:function(t){var e=t.value;return Promise.resolve(!F(e))}},S="image/",O={csv:"text/csv",gif:S+"gif",jpg:S+"jpeg",jpeg:S+"jpeg",png:S+"png",pdf:"application/pdf",svg:S+"svg+xml"},C=["outer","wrapper","label","element","input","help","errors","error","decorator","rangeValue","uploadArea","uploadAreaMask","files","file","fileName","fileRemove","fileProgress","fileUploadError","fileImagePreview","fileProgressInner","grouping","groupRepeatable","groupRepeatableRemove","groupAddMore"],V={hasErrors:function(t){return t.hasErrors},hasValue:function(t){return t.hasValue},isValid:function(t){return t.isValid}},j=(w=[""].concat(Object.keys(V).map((function(t){return b(t)}))),C.reduce((function(t,e){return t.concat(w.reduce((function(t,r){return t.push(""+e+r+"Class"),t}),[]))}),[]));function D(t,e,r){switch(typeof e){case"string":return e;case"function":return e(r,x(t));case"object":if(Array.isArray(e))return x(t).concat(e);default:return t}}function $(t){return C.reduce((function(e,r){var n;return Object.assign(e,((n={})[r]=function(t,e){var r=t.replace(/[A-Z]/g,(function(t){return"-"+t.toLowerCase()})),n="formulate"+("file"===r.substr(0,4)?"":"-input")+(["decorator","range-value"].includes(r)?"-element":"")+("outer"!==r?"-"+r:"");return"input"===r?[]:[n].concat(function(t,e,r){var n=[];switch(e){case"label":n.push(t+"--"+r.labelPosition);break;case"element":var i="group"===r.classification?"group":r.type;n.push(t+"--"+i),"group"===i&&n.push("formulate-input-group");break;case"help":n.push(t+"--"+r.helpPosition)}return n}(n,t,e))}(r,t),n))}),{})}function B(t,e,r,n){return new Promise((function(r,i){var o=(n.fauxUploaderDuration||2e3)*(.5+Math.random()),s=performance.now(),a=function(){return setTimeout((function(){var n=performance.now()-s,i=Math.min(100,Math.round(n/o*100));if(e(i),i>=100)return r({url:"http://via.placeholder.com/350x150.png",name:t.name});a()}),20)};a()}))}function I(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&-1===e.indexOf(n)&&(r[n]=t[n]);return r}var R={inheritAttrs:!1,functional:!0,render:function(t,e){for(var r=e.props,n=e.data,i=e.parent,o=e.children,s=i,a=(r.name,r.forceWrap),u=r.context,l=I(r,["name","forceWrap","context"]);s&&"FormulateInput"!==s.$options.name;)s=s.$parent;if(!s)return null;if(s.$scopedSlots&&s.$scopedSlots[r.name])return s.$scopedSlots[r.name](Object.assign({},u,l));if(Array.isArray(o)&&(o.length>1||a&&o.length>0)){var c=n.attrs,h=(c.name,c.context,I(c,["name","context"]));return t("div",Object.assign({},n,{attrs:h}),o)}return Array.isArray(o)&&1===o.length?o[0]:null}};var M={functional:!0,render:function(t,e){return function t(e,r){return Array.isArray(r)?r.map((function(r){var n=function(t,e){if(t&&"object"==typeof t&&!Array.isArray(t)){var r=t.children;void 0===r&&(r=null);var n=t.component;void 0===n&&(n="FormulateInput");var i=t.depth;void 0===i&&(i=1);var o=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&-1===e.indexOf(n)&&(r[n]=t[n]);return r}(t,["children","component","depth"]),s="FormulateInput"===n?o.type||"text":"",a=o.name||s||"el",u=o.id||a+"-"+i+"-"+e,l=Array.isArray(r)?r.map((function(t){return Object.assign(t,{depth:i+1})})):r;return Object.assign({key:u,depth:i,attrs:o,component:n},l?{children:l}:{})}return null}(r);return e(n.component,{attrs:n.attrs},n.children?t(e,n.children):null)})):r}(t,e.props.schema)}};function N(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&-1===e.indexOf(n)&&(r[n]=t[n]);return r}var T=function(t){this.registry=new Map,this.ctx=t};function L(t){return new T(t).dataProps()}function U(){return{hasInitialValue:function(){return this.formulateValue&&"object"==typeof this.formulateValue||this.values&&"object"==typeof this.values||this.isGrouping&&"object"==typeof this.context.model[this.index]},isVmodeled:function(){return!!(this.$options.propsData.hasOwnProperty("formulateValue")&&this._events&&Array.isArray(this._events.input)&&this._events.input.length)},initialValues:function(){return E(this.$options.propsData,"formulateValue")&&"object"==typeof this.formulateValue?Object.assign({},this.formulateValue):E(this.$options.propsData,"values")&&"object"==typeof this.values?Object.assign({},this.values):this.isGrouping&&"object"==typeof this.context.model[this.index]?this.context.model[this.index]:{}}}}function H(t){void 0===t&&(t=[]);var e={applyInitialValues:function(){this.hasInitialValue&&(this.proxy=this.initialValues)},setFieldValue:function(t,e){var r;if(void 0===e){var n=this.proxy,i=(n[t],N(n,[String(t)]));this.proxy=i}else Object.assign(this.proxy,((r={})[t]=e,r));this.$emit("input",Object.assign({},this.proxy))},valueDeps:function(t){var e=this;return Object.keys(this.proxy).reduce((function(r,n){return Object.defineProperty(r,n,{enumerable:!0,get:function(){var r=e.registry.get(n);return e.deps.set(t,e.deps.get(t)||new Set),r&&(e.deps.set(r,e.deps.get(r)||new Set),e.deps.get(r).add(t.name)),e.deps.get(t).add(n),e.proxy[n]}})}),Object.create(null))},validateDeps:function(t){var e=this;this.deps.has(t)&&this.deps.get(t).forEach((function(t){return e.registry.has(t)&&e.registry.get(t).performValidation()}))},hasValidationErrors:function(){return Promise.all(this.registry.reduce((function(t,e,r){return t.push(e.performValidation()&&e.getValidationErrors()),t}),[])).then((function(t){return t.some((function(t){return t.hasErrors}))}))},showErrors:function(){this.childrenShouldShowErrors=!0,this.registry.map((function(t){t.formShouldShowErrors=!0}))},hideErrors:function(){this.childrenShouldShowErrors=!1,this.registry.map((function(t){t.formShouldShowErrors=!1,t.behavioralErrorVisibility=!1}))},setValues:function(t){var e=this;Array.from(new Set(Object.keys(t).concat(Object.keys(this.proxy)))).forEach((function(r){y(t[r],e.proxy[r])||(e.setFieldValue(r,t[r]),e.registry.has(r)&&!y(t[r],e.registry.get(r).proxy)&&(e.registry.get(r).context.model=t[r]))}))}};return Object.keys(e).reduce((function(r,n){var i;return t.includes(n)?r:Object.assign({},r,((i={})[n]=e[n],i))}),{})}function G(t,e){void 0===e&&(e=[]);var r={formulateSetter:t.setFieldValue,formulateRegister:t.register,formulateDeregister:t.deregister,getFormValues:t.valueDeps,validateDependents:t.validateDeps};return Object.keys(r).filter((function(t){return!e.includes(t)})).reduce((function(t,e){var n;return Object.assign(t,((n={})[e]=r[e],n))}),{})}T.prototype.add=function(t,e){return this.registry.set(t,e),this},T.prototype.remove=function(t){this.ctx.deps.delete(this.registry.get(t)),this.ctx.deps.forEach((function(e){return e.delete(t)})),this.registry.delete(t);var e=this.ctx.proxy,r=(e[t],N(e,[String(t)]));return this.ctx.proxy=r,this},T.prototype.has=function(t){return this.registry.has(t)},T.prototype.get=function(t){return this.registry.get(t)},T.prototype.map=function(t){var e={};return this.registry.forEach((function(r,n){var i;return Object.assign(e,((i={})[n]=t(r,n),i))})),e},T.prototype.keys=function(){return Array.from(this.registry.keys())},T.prototype.register=function(t,e){if(this.registry.has(t))return!1;this.registry.set(t,e);var r=E(e.$options.propsData,"formulateValue"),n=E(e.$options.propsData,"value");r||!this.ctx.hasInitialValue||F(this.ctx.initialValues[t])?!r&&!n||y(e.proxy,this.ctx.initialValues[t])||this.ctx.setFieldValue(t,e.proxy):e.context.model=this.ctx.initialValues[t],this.childrenShouldShowErrors&&(e.formShouldShowErrors=!0)},T.prototype.reduce=function(t,e){return this.registry.forEach((function(r,n){e=t(e,r,n)})),e},T.prototype.dataProps=function(){var t=this;return{proxy:{},registry:this,register:this.register.bind(this),deregister:function(e){return t.remove(e)},childrenShouldShowErrors:!1,deps:new Map}};var q=function(t){this.form=t};function W(t,e,r,n,i,o,s,a,u,l){"boolean"!=typeof s&&(u=a,a=s,s=!1);var c,h="function"==typeof r?r.options:r;if(t&&t.render&&(h.render=t.render,h.staticRenderFns=t.staticRenderFns,h._compiled=!0,i&&(h.functional=!0)),n&&(h._scopeId=n),o?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,u(t)),t&&t._registeredComponents&&t._registeredComponents.add(o)},h._ssrRegister=c):e&&(c=s?function(t){e.call(this,l(t,this.$root.$options.shadowRoot))}:function(t){e.call(this,a(t))}),c)if(h.functional){var d=h.render;h.render=function(t,e){return c.call(e),d(t,e)}}else{var p=h.beforeCreate;h.beforeCreate=p?[].concat(p,c):[c]}return r}q.prototype.hasValidationErrors=function(){return this.form.hasValidationErrors()},q.prototype.values=function(){var t=this;return new Promise((function(e,r){var n=[],i=function t(e){if("object"!=typeof e)return e;var r=Array.isArray(e)?[]:{};for(var n in e)e[n]instanceof m||k(e[n])?r[n]=e[n]:r[n]=t(e[n]);return r}(t.form.proxy),o=function(e){"object"==typeof t.form.proxy[e]&&t.form.proxy[e]instanceof m&&n.push(t.form.proxy[e].upload().then((function(t){var r;return Object.assign(i,((r={})[e]=t,r))})))};for(var s in i)o(s);Promise.all(n).then((function(){return e(i)})).catch((function(t){return r(t)}))}))};var z={provide:function(){return Object.assign({},G(this),{observeErrors:this.addErrorObserver,removeErrorObserver:this.removeErrorObserver,formulateFieldValidation:this.formulateFieldValidation})},name:"FormulateForm",model:{prop:"formulateValue",event:"input"},props:{name:{type:[String,Boolean],default:!1},formulateValue:{type:Object,default:function(){return{}}},values:{type:[Object,Boolean],default:!1},errors:{type:[Object,Boolean],default:!1},formErrors:{type:Array,default:function(){return[]}},schema:{type:[Array,Boolean],default:!1}},data:function(){return Object.assign({},L(this),{formShouldShowErrors:!1,errorObservers:[],namedErrors:[],namedFieldErrors:{}})},computed:Object.assign({},U(),{formContext:function(){return{errors:this.mergedFormErrors}},classes:function(){var t={"formulate-form":!0};return this.name&&(t["formulate-form--"+this.name]=!0),t},mergedFormErrors:function(){return this.formErrors.concat(this.namedErrors)},mergedFieldErrors:function(){var t={};if(this.errors)for(var e in this.errors)t[e]=x(this.errors[e]);for(var r in this.namedFieldErrors)t[r]=x(this.namedFieldErrors[r]);return t},hasFormErrorObservers:function(){return!!this.errorObservers.filter((function(t){return"form"===t.type})).length}}),watch:{formulateValue:{handler:function(t){this.isVmodeled&&t&&"object"==typeof t&&this.setValues(t)},deep:!0},mergedFormErrors:function(t){this.errorObservers.filter((function(t){return"form"===t.type})).forEach((function(e){return e.callback(t)}))},mergedFieldErrors:{handler:function(t){this.errorObservers.filter((function(t){return"input"===t.type})).forEach((function(e){return e.callback(t[e.field]||[])}))},immediate:!0}},created:function(){this.$formulate.register(this),this.applyInitialValues()},destroyed:function(){this.$formulate.deregister(this)},methods:Object.assign({},H(),{applyErrors:function(t){var e=t.formErrors,r=t.inputErrors;this.namedErrors=e,this.namedFieldErrors=r},addErrorObserver:function(t){this.errorObservers.find((function(e){return t.callback===e.callback}))||(this.errorObservers.push(t),"form"===t.type?t.callback(this.mergedFormErrors):E(this.mergedFieldErrors,t.field)&&t.callback(this.mergedFieldErrors[t.field]))},removeErrorObserver:function(t){this.errorObservers=this.errorObservers.filter((function(e){return e.callback!==t}))},registerErrorComponent:function(t){this.errorComponents.includes(t)||this.errorComponents.push(t)},formSubmitted:function(){var t=this;this.showErrors();var e=new q(this);return this.$emit("submit-raw",e),e.hasValidationErrors().then((function(t){return t?void 0:e.values()})).then((function(e){if(void 0!==e)return t.$emit("submit",e),e}))},formulateFieldValidation:function(t){this.$emit("validation",t)}})},Y=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("form",{class:t.classes,on:{submit:function(e){return e.preventDefault(),t.formSubmitted(e)}}},[t.schema?r("FormulateSchema",{attrs:{schema:t.schema}}):t._e(),t._v(" "),t.hasFormErrorObservers?t._e():r("FormulateErrors",{attrs:{context:t.formContext}}),t._v(" "),t._t("default")],2)};Y._withStripped=!0;var Z=W({render:Y,staticRenderFns:[]},void 0,z,void 0,!1,void 0,!1,void 0,void 0,void 0),K={context:function(){return tt.call(this,Object.assign({},{addLabel:this.logicalAddLabel,attributes:this.elementAttributes,blurHandler:Q.bind(this),classification:this.classification,component:this.component,disableErrors:this.disableErrors,errors:this.explicitErrors,formShouldShowErrors:this.formShouldShowErrors,getValidationErrors:this.getValidationErrors.bind(this),hasGivenName:this.hasGivenName,hasValue:this.hasValue,hasLabel:this.label&&"button"!==this.classification,hasValidationErrors:this.hasValidationErrors.bind(this),help:this.help,helpPosition:this.logicalHelpPosition,id:this.id||this.defaultId,isValid:this.isValid,imageBehavior:this.imageBehavior,label:this.label,labelPosition:this.logicalLabelPosition,limit:this.limit===1/0?this.limit:parseInt(this.limit,10),name:this.nameOrFallback,minimum:parseInt(this.minimum,10),performValidation:this.performValidation.bind(this),pseudoProps:this.pseudoProps,preventWindowDrops:this.preventWindowDrops,repeatable:this.repeatable,rootEmit:this.$emit.bind(this),setErrors:this.setErrors.bind(this),showValidationErrors:this.showValidationErrors,slotComponents:this.slotComponents,slotProps:this.slotProps,type:this.type,uploadBehavior:this.uploadBehavior,uploadUrl:this.mergedUploadUrl,uploader:this.uploader||this.$formulate.getUploader(),validationErrors:this.validationErrors,value:this.value,visibleValidationErrors:this.visibleValidationErrors,isSubField:this.isSubField,classes:this.classes},this.typeContext))},nameOrFallback:function(){if(!0===this.name&&"button"!==this.classification){var t=this.id||this.elementAttributes.id.replace(/[^0-9]/g,"");return this.type+"_"+t}return!1!==this.name&&("button"!==this.classification||!0!==this.name)&&this.name},hasGivenName:function(){return"boolean"!=typeof this.name},typeContext:function(){var t=this;switch(this.classification){case"select":return{options:X.call(this,this.options),optionGroups:!!this.optionGroups&&v(this.optionGroups,(function(e,r){return X.call(t,r)})),placeholder:this.$attrs.placeholder||!1};case"slider":return{showValue:!!this.showValue};default:return this.options?{options:X.call(this,this.options)}:{}}},elementAttributes:function(){var t=Object.assign({},this.filteredAttributes);return this.id?t.id=this.id:t.id=this.defaultId,this.hasGivenName&&(t.name=this.name),this.help&&(t["aria-describedby"]=t.id+"-help"),!this.classes.input||Array.isArray(this.classes.input)&&!this.classes.input.length||(t.class=this.classes.input),t},logicalLabelPosition:function(){if(this.labelPosition)return this.labelPosition;switch(this.classification){case"box":return"after";default:return"before"}},logicalHelpPosition:function(){if(this.helpPosition)return this.helpPosition;switch(this.classification){case"group":return"before";default:return"after"}},mergedUploadUrl:function(){return this.uploadUrl||this.$formulate.getUploadUrl()},hasValue:function(){var t=this,e=this.proxy;return"box"===this.classification&&this.isGrouped?Array.isArray(e)?e.some((function(e){return e===t.value})):this.value===e:!F(e)},visibleValidationErrors:function(){return this.showValidationErrors&&this.validationErrors.length?this.validationErrors:[]},slotComponents:function(){var t=this.$formulate.slotComponent.bind(this.$formulate);return{label:t(this.type,"label"),help:t(this.type,"help"),errors:t(this.type,"errors"),repeatable:t(this.type,"repeatable"),addMore:t(this.type,"addMore"),remove:t(this.type,"remove")}},logicalAddLabel:function(){return"boolean"==typeof this.addLabel?"+ "+(this.label||this.name||"Add"):this.addLabel},classes:function(){return this.$formulate.classes(Object.assign({},this.$props,this.pseudoProps,{classification:this.classification,hasErrors:this.hasVisibleErrors,hasValue:this.hasValue,helpPosition:this.logicalHelpPosition,isValid:this.isValid,labelPosition:this.logicalLabelPosition,type:this.type,value:this.proxy}))},showValidationErrors:function(){return!(!this.showErrors&&!this.formShouldShowErrors)||(!("file"!==this.classification||"live"!==this.uploadBehavior||!et.call(this))||this.behavioralErrorVisibility)},slotProps:function(){var t=this.$formulate.slotProps.bind(this.$formulate);return{label:t(this.type,"label",this.typeProps),help:t(this.type,"help",this.typeProps),errors:t(this.type,"errors",this.typeProps),repeatable:t(this.type,"repeatable",this.typeProps),addMore:t(this.type,"addMore",this.typeProps),remove:t(this.type,"remove",this.typeProps)}},pseudoProps:function(){return J(this.localAttributes,j)},isValid:function(){return!this.hasErrors},isVmodeled:function(){return!!(this.$options.propsData.hasOwnProperty("formulateValue")&&this._events&&Array.isArray(this._events.input)&&this._events.input.length)},mergedValidationName:function(){return this.validationName?this.validationName:"string"==typeof this.name?this.name:this.label?this.label:this.type},explicitErrors:function(){return x(this.errors).concat(this.localErrors).concat(x(this.error))},allErrors:function(){return this.explicitErrors.concat(x(this.validationErrors))},hasVisibleErrors:function(){return Array.isArray(this.validationErrors)&&this.validationErrors.length&&this.showValidationErrors||!!this.explicitErrors.length},hasErrors:function(){return!!this.allErrors.length},filteredAttributes:function(){var t=this,e=Object.keys(this.pseudoProps).concat(Object.keys(this.typeProps));return Object.keys(this.localAttributes).reduce((function(r,n){return e.includes(g(n))||(r[n]=t.localAttributes[n]),r}),{})},typeProps:function(){return J(this.localAttributes,this.$formulate.typeProps(this.type))},listeners:function(){var t=this.$listeners;return t.input,function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&-1===e.indexOf(n)&&(r[n]=t[n]);return r}(t,["input"])}};function J(t,e){return Object.keys(t).reduce((function(r,n){var i=g(n);return e.includes(i)&&(r[i]=t[n]),r}),{})}function X(t){if(!Array.isArray(t)&&t&&"object"==typeof t){var e=[];for(var r in t)e.push({value:r,label:t[r],id:this.elementAttributes.id+"_"+r});return e}return t}function Q(){"blur"===this.errorBehavior&&(this.behavioralErrorVisibility=!0)}function tt(t){return Object.defineProperty(t,"model",{get:et.bind(this),set:rt.bind(this)})}function et(){var t=this.isVmodeled?"formulateValue":"proxy";return"checkbox"===this.type&&!Array.isArray(this[t])&&this.options?[]:this[t]||0===this[t]?this[t]:""}function rt(t){var e=!1;y(t,this.proxy)||(this.proxy=t,e=!0),this.context.name&&"function"==typeof this.formulateSetter&&this.formulateSetter(this.context.name,t),e&&this.$emit("input",t)}var nt={name:"FormulateInput",inheritAttrs:!1,provide:function(){return{formulateRegisterRule:this.registerRule,formulateRemoveRule:this.removeRule}},inject:{formulateSetter:{default:void 0},formulateFieldValidation:{default:function(){return function(){return{}}}},formulateRegister:{default:void 0},formulateDeregister:{default:void 0},getFormValues:{default:function(){return function(){return{}}}},validateDependents:{default:function(){return function(){}}},observeErrors:{default:void 0},removeErrorObserver:{default:void 0},isSubField:{default:function(){return function(){return!1}}}},model:{prop:"formulateValue",event:"input"},props:{type:{type:String,default:"text"},name:{type:[String,Boolean],default:!0},formulateValue:{default:""},value:{default:!1},options:{type:[Object,Array,Boolean],default:!1},optionGroups:{type:[Object,Boolean],default:!1},id:{type:[String,Boolean,Number],default:!1},label:{type:[String,Boolean],default:!1},labelPosition:{type:[String,Boolean],default:!1},limit:{type:[String,Number],default:1/0,validator:function(t){return 1/0}},minimum:{type:[String,Number],default:0,validator:function(t){return parseInt(t,10)==t}},help:{type:[String,Boolean],default:!1},helpPosition:{type:[String,Boolean],default:!1},isGrouped:{type:Boolean,default:!1},errors:{type:[String,Array,Boolean],default:!1},repeatable:{type:Boolean,default:!1},validation:{type:[String,Boolean,Array],default:!1},validationName:{type:[String,Boolean],default:!1},error:{type:[String,Boolean],default:!1},errorBehavior:{type:String,default:"blur",validator:function(t){return["blur","live","submit"].includes(t)}},showErrors:{type:Boolean,default:!1},imageBehavior:{type:String,default:"preview"},uploadUrl:{type:[String,Boolean],default:!1},uploader:{type:[Function,Object,Boolean],default:!1},uploadBehavior:{type:String,default:"live"},preventWindowDrops:{type:Boolean,default:!0},showValue:{type:[String,Boolean],default:!1},validationMessages:{type:Object,default:function(){return{}}},validationRules:{type:Object,default:function(){return{}}},checked:{type:[String,Boolean],default:!1},disableErrors:{type:Boolean,default:!1},addLabel:{type:[Boolean,String],default:!1}},data:function(){return{defaultId:this.$formulate.nextId(this),localAttributes:{},localErrors:[],proxy:this.getInitialValue(),behavioralErrorVisibility:"live"===this.errorBehavior,formShouldShowErrors:!1,validationErrors:[],pendingValidation:Promise.resolve(),ruleRegistry:[],messageRegistry:{}}},computed:Object.assign({},K,{classification:function(){var t=this.$formulate.classify(this.type);return"box"===t&&this.options?"group":t},component:function(){return"group"===this.classification?"FormulateInputGroup":this.$formulate.component(this.type)},parsedValidationRules:function(){var t=this,e={};return Object.keys(this.validationRules).forEach((function(r){e[g(r)]=t.validationRules[r]})),e},messages:function(){var t=this,e={};return Object.keys(this.validationMessages).forEach((function(r){e[g(r)]=t.validationMessages[r]})),Object.keys(this.messageRegistry).forEach((function(r){e[g(r)]=t.messageRegistry[r]})),e}}),watch:{$attrs:{handler:function(t){this.updateLocalAttributes(t)},deep:!0},proxy:function(t,e){this.performValidation(),this.isVmodeled||y(t,e)||(this.context.model=t),this.validateDependents(this)},formulateValue:function(t,e){this.isVmodeled&&!y(t,e)&&(this.context.model=t)},showValidationErrors:{handler:function(t){this.$emit("error-visibility",t)},immediate:!0}},created:function(){this.applyInitialValue(),this.formulateRegister&&"function"==typeof this.formulateRegister&&this.formulateRegister(this.nameOrFallback,this),this.applyDefaultValue(),this.disableErrors||"function"!=typeof this.observeErrors||this.observeErrors({callback:this.setErrors,type:"input",field:this.nameOrFallback}),this.updateLocalAttributes(this.$attrs),this.performValidation()},beforeDestroy:function(){this.disableErrors||"function"!=typeof this.removeErrorObserver||this.removeErrorObserver(this.setErrors),"function"==typeof this.formulateDeregister&&this.formulateDeregister(this.nameOrFallback)},methods:{getInitialValue:function(){var t=this.$formulate.classify(this.type);return"box"===(t="box"===t&&this.options?"group":t)&&this.checked?this.value||!0:E(this.$options.propsData,"value")&&"box"!==t?this.value:E(this.$options.propsData,"formulateValue")?this.formulateValue:""},applyInitialValue:function(){!y(this.context.model,this.proxy)&&E(this.$options.propsData,"options")&&"box"===this.classification&&(this.context.model=this.proxy)},applyDefaultValue:function(){"select"===this.type&&!this.context.placeholder&&F(this.proxy)&&!this.isVmodeled&&!1===this.value&&this.context.options.length&&(this.context.model=this.context.options[0].value)},updateLocalAttributes:function(t){y(t,this.localAttributes)||(this.localAttributes=t)},performValidation:function(){var t=this,e=function t(e,r){return"string"==typeof e?t(e.split("|"),r):Array.isArray(e)?e.map((function(t){return function(t,e){if("function"==typeof t)return[t,[]];if(Array.isArray(t)&&t.length){var r=_((t=t.map((function(t){return t}))).shift()),n=r[0],i=r[1];if("string"==typeof n&&e.hasOwnProperty(n))return[e[n],t,n,i];if("function"==typeof n)return[n,t,n,i]}if("string"==typeof t&&t){var o=t.split(":"),s=_(o.shift()),a=s[0],u=s[1];if(e.hasOwnProperty(a))return[e[a],o.length?o.join(":").split(","):[],a,u];throw new Error("Unknown validation rule "+t)}return!1}(t,r)})).filter((function(t){return!!t})):[]}(this.validation,this.$formulate.rules(this.parsedValidationRules));return e=this.ruleRegistry.length?this.ruleRegistry.concat(e):e,this.pendingValidation=this.runRules(e).then((function(e){return t.didValidate(e)})),this.pendingValidation},runRules:function(t){var e=this,r=function(t){var r=t[0],n=t[1],i=t[2],o=(t[3],r.apply(void 0,[{value:e.context.model,getFormValues:function(){for(var t,r=arguments,n=[],i=arguments.length;i--;)n[i]=r[i];return(t=e).getFormValues.apply(t,[e].concat(n))},name:e.context.name}].concat(n)));return(o=o instanceof Promise?o:Promise.resolve(o)).then((function(t){return!t&&e.getMessage(i,n)}))};return new Promise((function(e){var n=function(t,i){void 0===i&&(i=[]);var o=t.shift();Array.isArray(o)&&o.length?Promise.all(o.map(r)).then((function(t){return t.filter((function(t){return!!t}))})).then((function(r){return(r=Array.isArray(r)?r:[]).length&&o.bail||!t.length?e(i.concat(r).filter((function(t){return!F(t)}))):n(t,i.concat(r))})):e([])};n(function(t){var e=[],r=t.findIndex((function(t){return"bail"===t[2].toLowerCase()})),n=t.findIndex((function(t){return"optional"===t[2].toLowerCase()}));if(n>=0){var i=t.splice(n,1);e.push(Object.defineProperty(i,"bail",{value:!0}))}if(r>=0){var o=t.splice(0,r+1).slice(0,-1);o.length&&e.push(o),t.map((function(t){return e.push(Object.defineProperty([t],"bail",{value:!0}))}))}else e.push(t);return e.reduce((function(t,e){var r=function(t,e){if(void 0===e&&(e=!1),t.length<2)return Object.defineProperty([t],"bail",{value:e});var n=[],i=t.findIndex((function(t){return"^"===t[3]}));if(i>=0){var o=t.splice(0,i);o.length&&n.push.apply(n,r(o,e)),n.push(Object.defineProperty([t.shift()],"bail",{value:!0})),t.length&&n.push.apply(n,r(t,e))}else n.push(t);return n};return t.concat(r(e))}),[])}(t))}))},didValidate:function(t){var e=!y(t,this.validationErrors);if(this.validationErrors=t,e){var r=this.getErrorObject();this.$emit("validation",r),this.formulateFieldValidation&&"function"==typeof this.formulateFieldValidation&&this.formulateFieldValidation(r)}},getMessage:function(t,e){var r=this;return this.getMessageFunc(t)({args:e,name:this.mergedValidationName,value:this.context.model,vm:this,formValues:this.getFormValues(this),getFormValues:function(){for(var t,e=arguments,n=[],i=arguments.length;i--;)n[i]=e[i];return(t=r).getFormValues.apply(t,[r].concat(n))}})},getMessageFunc:function(t){var e=this;if("optional"===(t=g(t)))return function(){return[]};if(this.messages&&void 0!==this.messages[t])switch(typeof this.messages[t]){case"function":return this.messages[t];case"string":case"boolean":return function(){return e.messages[t]}}return function(r){return e.$formulate.validationMessage(t,r,e)}},hasValidationErrors:function(){var t=this;return new Promise((function(e){t.$nextTick((function(){t.pendingValidation.then((function(){return e(!!t.validationErrors.length)}))}))}))},getValidationErrors:function(){var t=this;return new Promise((function(e){t.$nextTick((function(){return t.pendingValidation.then((function(){return e(t.getErrorObject())}))}))}))},getErrorObject:function(){return{name:this.context.nameOrFallback||this.context.name,errors:this.validationErrors.filter((function(t){return"string"==typeof t})),hasErrors:!!this.validationErrors.length}},setErrors:function(t){this.localErrors=x(t)},registerRule:function(t,e,r,n){void 0===n&&(n=null),this.ruleRegistry.some((function(t){return t[2]===r}))||(this.ruleRegistry.push([t,e,r]),null!==n&&(this.messageRegistry[r]=n))},removeRule:function(t){var e=this.ruleRegistry.findIndex((function(e){return e[2]===t}));e>=0&&(this.ruleRegistry.splice(e,1),delete this.messageRegistry[t])}}},it=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{class:t.context.classes.outer,attrs:{"data-classification":t.classification,"data-has-errors":t.hasErrors,"data-is-showing-errors":t.hasVisibleErrors,"data-has-value":t.hasValue,"data-type":t.type}},[r("div",{class:t.context.classes.wrapper},["before"===t.context.labelPosition?t._t("label",[t.context.hasLabel?r(t.context.slotComponents.label,t._b({tag:"component",attrs:{context:t.context}},"component",t.context.slotProps.label,!1)):t._e()],null,t.context):t._e(),t._v(" "),"before"===t.context.helpPosition?t._t("help",[t.context.help?r(t.context.slotComponents.help,t._b({tag:"component",attrs:{context:t.context}},"component",t.context.slotProps.help,!1)):t._e()],null,t.context):t._e(),t._v(" "),t._t("element",[r(t.context.component,t._g(t._b({tag:"component",attrs:{context:t.context}},"component",t.context.slotProps.component,!1),t.listeners),[t._t("default",null,null,t.context)],2)],null,t.context),t._v(" "),"after"===t.context.labelPosition?t._t("label",[t.context.hasLabel?r(t.context.slotComponents.label,t._b({tag:"component",attrs:{context:t.context}},"component",t.context.slotProps.label,!1)):t._e()],null,t.context):t._e()],2),t._v(" "),"after"===t.context.helpPosition?t._t("help",[t.context.help?r(t.context.slotComponents.help,t._b({tag:"component",attrs:{context:t.context}},"component",t.context.slotProps.help,!1)):t._e()],null,t.context):t._e(),t._v(" "),t._t("errors",[t.context.disableErrors?t._e():r(t.context.slotComponents.errors,t._b({tag:"component",attrs:{type:"FormulateErrors"===t.context.slotComponents.errors&&"input",context:t.context}},"component",t.context.slotProps.errors,!1))],null,t.context)],2)};it._withStripped=!0;var ot=W({render:it,staticRenderFns:[]},void 0,nt,void 0,!1,void 0,!1,void 0,void 0,void 0),st={inject:{observeErrors:{default:!1},removeErrorObserver:{default:!1}},props:{context:{type:Object,default:function(){return{}}},type:{type:String,default:"form"}},data:function(){return{boundSetErrors:this.setErrors.bind(this),localErrors:[]}},computed:{visibleValidationErrors:function(){return Array.isArray(this.context.visibleValidationErrors)?this.context.visibleValidationErrors:[]},errors:function(){return Array.isArray(this.context.errors)?this.context.errors:[]},mergedErrors:function(){return this.errors.concat(this.localErrors)},visibleErrors:function(){return Array.from(new Set(this.mergedErrors.concat(this.visibleValidationErrors))).filter((function(t){return"string"==typeof t}))},outerClass:function(){return"input"===this.type&&this.context.classes?this.context.classes.errors:"formulate-"+this.type+"-errors"},itemClass:function(){return"input"===this.type&&this.context.classes?this.context.classes.error:"formulate-"+this.type+"-error"}},created:function(){"form"!==this.type||"function"!=typeof this.observeErrors||Array.isArray(this.context.errors)||this.observeErrors({callback:this.boundSetErrors,type:this.type})},destroyed:function(){"form"!==this.type||"function"!=typeof this.removeErrorObserver||Array.isArray(this.context.errors)||this.removeErrorObserver(this.boundSetErrors)},methods:{setErrors:function(t){this.localErrors=x(t)}}},at=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.visibleErrors.length?r("ul",{class:t.outerClass},t._l(t.visibleErrors,(function(e){return r("li",{key:e,class:t.itemClass,domProps:{textContent:t._s(e)}})})),0):t._e()};at._withStripped=!0;var ut=W({render:at,staticRenderFns:[]},void 0,st,void 0,!1,void 0,!1,void 0,void 0,void 0),lt={props:{context:{type:Object,required:!0}}},ct=function(){var t=this.$createElement,e=this._self._c||t;return this.context.help?e("div",{class:this.context.classes.help,attrs:{id:this.context.id+"-help"},domProps:{textContent:this._s(this.context.help)}}):this._e()};ct._withStripped=!0;var ht=W({render:ct,staticRenderFns:[]},void 0,lt,void 0,!1,void 0,!1,void 0,void 0,void 0),dt={name:"FormulateGrouping",props:{context:{type:Object,required:!0}},provide:function(){return{isSubField:function(){return!0},registerProvider:this.registerProvider,deregisterProvider:this.deregisterProvider}},data:function(){return{providers:[]}},inject:["formulateRegisterRule","formulateRemoveRule"],computed:{items:function(){return Array.isArray(this.context.model)?this.context.repeatable||0!==this.context.model.length?this.context.model.map((function(t){return A(t,t.__id)})):[A({})]:new Array(this.context.minimum||1).fill("").map((function(){return A({})}))},formShouldShowErrors:function(){return this.context.formShouldShowErrors}},watch:{providers:function(){this.formShouldShowErrors&&this.showErrors()},formShouldShowErrors:function(t){t&&this.showErrors()}},created:function(){this.formulateRegisterRule(this.validateGroup.bind(this),[],"formulateGrouping",!0)},destroyed:function(){this.formulateRemoveRule("formulateGrouping")},methods:{getAtIndex:function(t){return void 0!==this.context.model[t]&&this.context.model[t].__id?this.context.model[t]:void 0!==this.context.model[t]?A(this.context.model[t]):void 0===this.context.model[t]&&void 0!==this.items[t]?A({},this.items[t].__id):A({})},setFieldValue:function(t,e,r){var n,i=Array.isArray(this.context.model)?this.context.model:[],o=this.getAtIndex(t),s=A(Object.assign({},o,((n={})[e]=r,n)),o.__id);i.splice(t,1,s),this.context.model=i},validateGroup:function(){return Promise.all(this.providers.reduce((function(t,e){return e&&"function"==typeof e.hasValidationErrors&&t.push(e.hasValidationErrors()),t}),[])).then((function(t){return!t.some((function(t){return!!t}))}))},showErrors:function(){this.providers.forEach((function(t){return t&&"function"==typeof t.showErrors&&t.showErrors()}))},removeItem:function(t){Array.isArray(this.context.model)&&this.context.model.length>this.context.minimum?this.context.model.splice(t,1):this.items.length>this.context.minimum&&(this.context.model=new Array(this.items.length-1).fill("").map((function(){return A({})})))},registerProvider:function(t){this.providers.some((function(e){return e===t}))||this.providers.push(t)},deregisterProvider:function(t){this.providers=this.providers.filter((function(e){return e!==t}))}}},pt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("FormulateSlot",{class:t.context.classes.grouping,attrs:{name:"grouping",context:t.context,"force-wrap":t.context.repeatable}},t._l(t.items,(function(e,n){return r("FormulateRepeatableProvider",{key:e.__id,attrs:{index:n,"set-field-value":function(e,r){return t.setFieldValue(n,e,r)},context:t.context},on:{remove:t.removeItem}},[t._t("default")],2)})),1)};pt._withStripped=!0;var ft=W({render:pt,staticRenderFns:[]},void 0,dt,void 0,!1,void 0,!1,void 0,void 0,void 0),mt={props:{context:{type:Object,required:!0}}},vt=function(){var t=this.$createElement;return(this._self._c||t)("label",{class:this.context.classes.label,attrs:{for:this.context.id},domProps:{textContent:this._s(this.context.label)}})};vt._withStripped=!0;var yt=W({render:vt,staticRenderFns:[]},void 0,mt,void 0,!1,void 0,!1,void 0,void 0,void 0),gt={props:{context:{type:Object,required:!0},addMore:{type:Function,required:!0}}},bt=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{class:this.context.classes.groupAddMore},[e("FormulateInput",{attrs:{type:"button",label:this.context.addLabel,"data-minor":"","data-ghost":""},on:{click:this.addMore}})],1)};bt._withStripped=!0;var xt=W({render:bt,staticRenderFns:[]},void 0,gt,void 0,!1,void 0,!1,void 0,void 0,void 0),_t={props:{context:{type:Object,required:!0}},computed:{type:function(){return this.context.type},attributes:function(){return this.context.attributes||{}},hasValue:function(){return this.context.hasValue}}},kt={name:"FormulateInputBox",mixins:[_t]},Et=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{class:t.context.classes.element,attrs:{"data-type":t.context.type}},["radio"===t.type?r("input",t._g(t._b({directives:[{name:"model",rawName:"v-model",value:t.context.model,expression:"context.model"}],attrs:{type:"radio"},domProps:{value:t.context.value,checked:t._q(t.context.model,t.context.value)},on:{blur:t.context.blurHandler,change:function(e){return t.$set(t.context,"model",t.context.value)}}},"input",t.attributes,!1),t.$listeners)):r("input",t._g(t._b({directives:[{name:"model",rawName:"v-model",value:t.context.model,expression:"context.model"}],attrs:{type:"checkbox"},domProps:{value:t.context.value,checked:Array.isArray(t.context.model)?t._i(t.context.model,t.context.value)>-1:t.context.model},on:{blur:t.context.blurHandler,change:function(e){var r=t.context.model,n=e.target,i=!!n.checked;if(Array.isArray(r)){var o=t.context.value,s=t._i(r,o);n.checked?s<0&&t.$set(t.context,"model",r.concat([o])):s>-1&&t.$set(t.context,"model",r.slice(0,s).concat(r.slice(s+1)))}else t.$set(t.context,"model",i)}}},"input",t.attributes,!1),t.$listeners)),t._v(" "),r("label",{tag:"component",class:t.context.classes.decorator,attrs:{for:t.attributes.id}})],1)};Et._withStripped=!0;var At=W({render:Et,staticRenderFns:[]},void 0,kt,void 0,!1,void 0,!1,void 0,void 0,void 0),Ft={name:"FormulateInputText",mixins:[_t]},wt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{class:t.context.classes.element,attrs:{"data-type":t.context.type}},["checkbox"===t.type?r("input",t._g(t._b({directives:[{name:"model",rawName:"v-model",value:t.context.model,expression:"context.model"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.context.model)?t._i(t.context.model,null)>-1:t.context.model},on:{blur:t.context.blurHandler,change:function(e){var r=t.context.model,n=e.target,i=!!n.checked;if(Array.isArray(r)){var o=t._i(r,null);n.checked?o<0&&t.$set(t.context,"model",r.concat([null])):o>-1&&t.$set(t.context,"model",r.slice(0,o).concat(r.slice(o+1)))}else t.$set(t.context,"model",i)}}},"input",t.attributes,!1),t.$listeners)):"radio"===t.type?r("input",t._g(t._b({directives:[{name:"model",rawName:"v-model",value:t.context.model,expression:"context.model"}],attrs:{type:"radio"},domProps:{checked:t._q(t.context.model,null)},on:{blur:t.context.blurHandler,change:function(e){return t.$set(t.context,"model",null)}}},"input",t.attributes,!1),t.$listeners)):r("input",t._g(t._b({directives:[{name:"model",rawName:"v-model",value:t.context.model,expression:"context.model"}],attrs:{type:t.type},domProps:{value:t.context.model},on:{blur:t.context.blurHandler,input:function(e){e.target.composing||t.$set(t.context,"model",e.target.value)}}},"input",t.attributes,!1),t.$listeners))])};wt._withStripped=!0;var Pt=W({render:wt,staticRenderFns:[]},void 0,Ft,void 0,!1,void 0,!1,void 0,void 0,void 0),St={name:"FormulateFiles",props:{files:{type:m,required:!0},imagePreview:{type:Boolean,default:!1},context:{type:Object,required:!0}},computed:{fileUploads:function(){return this.files.files||[]}},watch:{files:function(){this.imagePreview&&this.files.loadPreviews()}},mounted:function(){this.imagePreview&&this.files.loadPreviews()}},Ot=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.fileUploads.length?r("ul",{class:t.context.classes.files},t._l(t.fileUploads,(function(e){return r("li",{key:e.uuid,attrs:{"data-has-error":!!e.error,"data-has-preview":!(!t.imagePreview||!e.previewData)}},[r("div",{class:t.context.classes.file},[t.imagePreview&&e.previewData?r("div",{class:t.context.classes.fileImagePreview},[r("img",{attrs:{src:e.previewData}})]):t._e(),t._v(" "),r("div",{class:t.context.classes.fileName,attrs:{title:e.name},domProps:{textContent:t._s(e.name)}}),t._v(" "),!1!==e.progress?r("div",{class:t.context.classes.fileProgress,attrs:{"data-just-finished":e.justFinished,"data-is-finished":!e.justFinished&&e.complete}},[r("div",{class:t.context.classes.fileProgressInner,style:{width:e.progress+"%"}})]):t._e(),t._v(" "),e.complete&&!e.justFinished||!1===e.progress?r("div",{class:t.context.classes.fileRemove,on:{click:e.removeFile}}):t._e()]),t._v(" "),e.error?r("div",{class:t.context.classes.fileUploadError,domProps:{textContent:t._s(e.error)}}):t._e()])})),0):t._e()};Ot._withStripped=!0;var Ct={name:"FormulateInputFile",components:{FormulateFiles:W({render:Ot,staticRenderFns:[]},void 0,St,void 0,!1,void 0,!1,void 0,void 0,void 0)},mixins:[_t],data:function(){return{isOver:!1}},computed:{hasFiles:function(){return!!(this.context.model instanceof m&&this.context.model.files.length)}},created:function(){Array.isArray(this.context.model)&&"string"==typeof this.context.model[0][this.$formulate.getFileUrlKey()]&&(this.context.model=this.$formulate.createUpload({files:this.context.model},this.context))},mounted:function(){window&&this.context.preventWindowDrops&&(window.addEventListener("dragover",this.preventDefault),window.addEventListener("drop",this.preventDefault))},destroyed:function(){window&&this.context.preventWindowDrops&&(window.removeEventListener("dragover",this.preventDefault),window.removeEventListener("drop",this.preventDefault))},methods:{preventDefault:function(t){"INPUT"!==t.target.tagName&&"file"!==t.target.getAttribute("type")&&(t=t||event).preventDefault()},handleFile:function(){var t=this;this.isOver=!1;var e=this.$refs.file;e.files.length&&(this.context.model=this.$formulate.createUpload(e,this.context),this.$nextTick((function(){return t.attemptImmediateUpload()})))},attemptImmediateUpload:function(){var t=this;"live"===this.context.uploadBehavior&&this.context.model instanceof m&&this.context.hasValidationErrors().then((function(e){e||t.context.model.upload()}))},handleDragOver:function(t){t.preventDefault(),this.isOver=!0},handleDragLeave:function(t){t.preventDefault(),this.isOver=!1}}},Vt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{class:t.context.classes.element,attrs:{"data-type":t.context.type,"data-has-files":t.hasFiles}},[r("div",{class:t.context.classes.uploadArea,attrs:{"data-has-files":t.hasFiles}},[r("input",t._g(t._b({ref:"file",attrs:{"data-is-drag-hover":t.isOver,type:"file"},on:{blur:t.context.blurHandler,change:t.handleFile,dragover:t.handleDragOver,dragleave:t.handleDragLeave}},"input",t.attributes,!1),t.$listeners)),t._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:!t.hasFiles,expression:"!hasFiles"}],class:t.context.classes.uploadAreaMask}),t._v(" "),t.hasFiles?r("FormulateFiles",{attrs:{files:t.context.model,"image-preview":"image"===t.context.type&&"preview"===t.context.imageBehavior,context:t.context}}):t._e()],1)])};Vt._withStripped=!0;var jt=W({render:Vt,staticRenderFns:[]},void 0,Ct,void 0,!1,void 0,!1,void 0,void 0,void 0),Dt={props:{context:{type:Object,required:!0},removeItem:{type:Function,required:!0},index:{type:Number,required:!0}}},$t=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{class:t.context.classes.groupRepeatable},[r("FormulateSlot",{attrs:{name:"remove",context:t.context,"remove-item":t.removeItem}},[r(t.context.slotComponents.remove,t._b({tag:"component",attrs:{context:t.context,"remove-item":t.removeItem}},"component",t.context.slotProps.remove,!1))],1),t._v(" "),t._t("default")],2)};$t._withStripped=!0;var Bt=W({render:$t,staticRenderFns:[]},void 0,Dt,void 0,!1,void 0,!1,void 0,void 0,void 0);function It(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&-1===e.indexOf(n)&&(r[n]=t[n]);return r}var Rt={name:"FormulateInputGroup",props:{context:{type:Object,required:!0}},computed:{options:function(){return this.context.options||[]},subType:function(){return"group"===this.context.type?"grouping":"inputs"},optionsWithContext:function(){var t=this,e=this.context,r=e.attributes,n=(r.id,It(r,["id"])),i=(e.blurHandler,e.classification,e.component,e.getValidationErrors,e.hasLabel,e.hasValidationErrors,e.isSubField,e.isValid,e.labelPosition,e.options,e.performValidation,e.setErrors,e.slotComponents,e.slotProps,e.validationErrors,e.visibleValidationErrors,e.classes,e.showValidationErrors,e.rootEmit,e.help,e.pseudoProps,It(e,["attributes","blurHandler","classification","component","getValidationErrors","hasLabel","hasValidationErrors","isSubField","isValid","labelPosition","options","performValidation","setErrors","slotComponents","slotProps","validationErrors","visibleValidationErrors","classes","showValidationErrors","rootEmit","help","pseudoProps"]));return this.options.map((function(e){return t.groupItemContext(i,e,n)}))},totalItems:function(){return Array.isArray(this.context.model)?this.context.model.length:this.context.minimum||1},canAddMore:function(){return this.context.repeatable&&this.totalItems<this.context.limit}},methods:{addItem:function(){if(Array.isArray(this.context.model))return this.context.model.push(A({}));this.context.model=new Array(this.totalItems+1).fill("").map((function(){return A({})}))},groupItemContext:function(t,e,r){return Object.assign({},t,e,r,{isGrouped:!0},t.hasGivenName?{}:{name:!0})}}},Mt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{class:t.context.classes.element,attrs:{"data-is-repeatable":t.context.repeatable}},["grouping"!==t.subType?t._l(t.optionsWithContext,(function(e){return r("FormulateInput",t._b({key:e.id,staticClass:"formulate-input-group-item",attrs:{"disable-errors":!0},on:{blur:t.context.blurHandler},model:{value:t.context.model,callback:function(e){t.$set(t.context,"model",e)},expression:"context.model"}},"FormulateInput",e,!1))})):[r("FormulateGrouping",{attrs:{context:t.context}},[t._t("default")],2),t._v(" "),t.canAddMore?r("FormulateSlot",{attrs:{name:"addmore",context:t.context,"add-more":t.addItem}},[r(t.context.slotComponents.addMore,t._b({tag:"component",attrs:{context:t.context,"add-more":t.addItem},on:{add:t.addItem}},"component",t.context.slotProps.addMore,!1))],1):t._e()]],2)};Mt._withStripped=!0;var Nt=W({render:Mt,staticRenderFns:[]},void 0,Rt,void 0,!1,void 0,!1,void 0,void 0,void 0),Tt={name:"FormulateInputButton",mixins:[_t]},Lt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{class:t.context.classes.element,attrs:{"data-type":t.context.type}},[r("button",t._g(t._b({attrs:{type:t.type}},"button",t.attributes,!1),t.$listeners),[t._t("default",[r("span",{class:"formulate-input-element--"+t.context.type+"--label",domProps:{textContent:t._s(t.context.value||t.context.label||t.context.name||"Submit")}})])],2)])};Lt._withStripped=!0;var Ut=W({render:Lt,staticRenderFns:[]},void 0,Tt,void 0,!1,void 0,!1,void 0,void 0,void 0),Ht={name:"FormulateInputSelect",mixins:[_t],computed:{options:function(){return this.context.options||{}},optionGroups:function(){return this.context.optionGroups||!1},placeholderSelected:function(){return!(this.hasValue||!this.context.attributes||!this.context.attributes.placeholder)}}},Gt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{class:t.context.classes.element,attrs:{"data-type":t.context.type}},[r("select",t._g(t._b({directives:[{name:"model",rawName:"v-model",value:t.context.model,expression:"context.model"}],attrs:{"data-placeholder-selected":t.placeholderSelected},on:{blur:t.context.blurHandler,change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.context,"model",e.target.multiple?r:r[0])}}},"select",t.attributes,!1),t.$listeners),[t.context.placeholder?r("option",{attrs:{value:"",disabled:""},domProps:{selected:!t.hasValue}},[t._v("\n      "+t._s(t.context.placeholder)+"\n    ")]):t._e(),t._v(" "),t.optionGroups?t._l(t.optionGroups,(function(e,n){return r("optgroup",{key:n,attrs:{label:n}},t._l(e,(function(e){return r("option",t._b({key:e.id,domProps:{value:e.value,textContent:t._s(e.label)}},"option",e.attributes||{},!1))})),0)})):t._l(t.options,(function(e){return r("option",t._b({key:e.id,domProps:{value:e.value,textContent:t._s(e.label)}},"option",e.attributes||{},!1))}))],2)])};Gt._withStripped=!0;var qt=W({render:Gt,staticRenderFns:[]},void 0,Ht,void 0,!1,void 0,!1,void 0,void 0,void 0),Wt={name:"FormulateInputSlider",mixins:[_t]},zt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{class:t.context.classes.element,attrs:{"data-type":t.context.type}},["checkbox"===t.type?r("input",t._g(t._b({directives:[{name:"model",rawName:"v-model",value:t.context.model,expression:"context.model"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.context.model)?t._i(t.context.model,null)>-1:t.context.model},on:{blur:t.context.blurHandler,change:function(e){var r=t.context.model,n=e.target,i=!!n.checked;if(Array.isArray(r)){var o=t._i(r,null);n.checked?o<0&&t.$set(t.context,"model",r.concat([null])):o>-1&&t.$set(t.context,"model",r.slice(0,o).concat(r.slice(o+1)))}else t.$set(t.context,"model",i)}}},"input",t.attributes,!1),t.$listeners)):"radio"===t.type?r("input",t._g(t._b({directives:[{name:"model",rawName:"v-model",value:t.context.model,expression:"context.model"}],attrs:{type:"radio"},domProps:{checked:t._q(t.context.model,null)},on:{blur:t.context.blurHandler,change:function(e){return t.$set(t.context,"model",null)}}},"input",t.attributes,!1),t.$listeners)):r("input",t._g(t._b({directives:[{name:"model",rawName:"v-model",value:t.context.model,expression:"context.model"}],attrs:{type:t.type},domProps:{value:t.context.model},on:{blur:t.context.blurHandler,input:function(e){e.target.composing||t.$set(t.context,"model",e.target.value)}}},"input",t.attributes,!1),t.$listeners)),t._v(" "),t.context.showValue?r("div",{class:t.context.classes.rangeValue,domProps:{textContent:t._s(t.context.model)}}):t._e()])};zt._withStripped=!0;var Yt=W({render:zt,staticRenderFns:[]},void 0,Wt,void 0,!1,void 0,!1,void 0,void 0,void 0),Zt={name:"FormulateInputTextArea",mixins:[_t]},Kt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{class:t.context.classes.element,attrs:{"data-type":"textarea"}},[r("textarea",t._g(t._b({directives:[{name:"model",rawName:"v-model",value:t.context.model,expression:"context.model"}],domProps:{value:t.context.model},on:{blur:t.context.blurHandler,input:function(e){e.target.composing||t.$set(t.context,"model",e.target.value)}}},"textarea",t.attributes,!1),t.$listeners))])};Kt._withStripped=!0;var Jt=W({render:Kt,staticRenderFns:[]},void 0,Zt,void 0,!1,void 0,!1,void 0,void 0,void 0),Xt={provide:function(){var t=this;return Object.assign({},G(this,["getFormValues"]),{formulateSetter:function(e,r){return t.setFieldValue(e,r)}})},inject:{registerProvider:"registerProvider",deregisterProvider:"deregisterProvider"},props:{index:{type:Number,required:!0},context:{type:Object,required:!0},setFieldValue:{type:Function,required:!0}},data:function(){return Object.assign({},L(this),{isGrouping:!0})},computed:Object.assign({},U()),created:function(){this.registerProvider(this)},beforeDestroy:function(){this.deregisterProvider(this)},methods:Object.assign({},H(["setFieldValue"]),{removeItem:function(){this.$emit("remove",this.index)}})},Qt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("FormulateSlot",{attrs:{name:"repeatable",context:t.context,index:t.index,"remove-item":t.removeItem}},[r(t.context.slotComponents.repeatable,t._b({tag:"component",attrs:{context:t.context,index:t.index,"remove-item":t.removeItem}},"component",t.context.slotProps.repeatable,!1),[r("FormulateSlot",{attrs:{context:t.context,index:t.index,name:"default"}})],1)],1)};Qt._withStripped=!0;var te=W({render:Qt,staticRenderFns:[]},void 0,Xt,void 0,!1,void 0,!1,void 0,void 0,void 0),ee={props:{context:{type:Object,required:!0},removeItem:{type:Function,required:!0}}},re=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.context.repeatable?r("a",{class:t.context.classes.groupRepeatableRemove,attrs:{role:"button"},domProps:{textContent:t._s("Remove")},on:{click:function(e){return e.preventDefault(),t.removeItem(e)},keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.removeItem(e)}}}):t._e()};re._withStripped=!0;var ne=W({render:re,staticRenderFns:[]},void 0,ee,void 0,!1,void 0,!1,void 0,void 0,void 0),ie=function(){this.options={},this.defaults={components:{FormulateSlot:R,FormulateForm:Z,FormulateHelp:ht,FormulateLabel:yt,FormulateInput:ot,FormulateErrors:ut,FormulateSchema:M,FormulateAddMore:xt,FormulateGrouping:ft,FormulateInputBox:At,FormulateInputText:Pt,FormulateInputFile:jt,FormulateRepeatable:Bt,FormulateInputGroup:Nt,FormulateInputButton:Ut,FormulateInputSelect:qt,FormulateInputSlider:Yt,FormulateInputTextArea:Jt,FormulateRepeatableRemove:ne,FormulateRepeatableProvider:te},slotComponents:{label:"FormulateLabel",help:"FormulateHelp",errors:"FormulateErrors",repeatable:"FormulateRepeatable",addMore:"FormulateAddMore",remove:"FormulateRepeatableRemove"},slotProps:{},library:f,rules:P,mimes:O,locale:!1,uploader:B,uploadUrl:!1,fileUrlKey:"url",uploadJustCompleteDuration:1e3,errorHandler:function(t){return t},plugins:[d],locales:{},idPrefix:"formulate-",baseClasses:function(t){return t},coreClasses:$,classes:{}},this.registry=new Map,this.idRegistry={}};ie.prototype.install=function(t,e){var r=this;t.prototype.$formulate=this,this.options=this.defaults;var n=this.defaults.plugins;for(var i in e&&Array.isArray(e.plugins)&&e.plugins.length&&(n=n.concat(e.plugins)),n.forEach((function(t){return"function"==typeof t?t(r):null})),this.extend(e||{}),this.options.components)t.component(i,this.options.components[i])},ie.prototype.nextId=function(t){var e=t.$route&&t.$route.path&&t.$route.path?t.$route.path.replace(/[/\\.\s]/g,"-"):"global";return Object.prototype.hasOwnProperty.call(this.idRegistry,e)||(this.idRegistry[e]=0),""+this.options.idPrefix+e+"-"+ ++this.idRegistry[e]},ie.prototype.extend=function(t){if("object"==typeof t)return this.options=this.merge(this.options,t),this;throw new Error("Formulate.extend expects an object, was "+typeof t)},ie.prototype.merge=function(t,e,r){void 0===r&&(r=!0);var n={};for(var i in t)e.hasOwnProperty(i)?l(e[i])&&l(t[i])?n[i]=this.merge(t[i],e[i],r):r&&Array.isArray(t[i])&&Array.isArray(e[i])?n[i]=t[i].concat(e[i]):n[i]=e[i]:n[i]=t[i];for(var o in e)n.hasOwnProperty(o)||(n[o]=e[o]);return n},ie.prototype.classify=function(t){return this.options.library.hasOwnProperty(t)?this.options.library[t].classification:"unknown"},ie.prototype.classes=function(t){var e=this,r=this.options.coreClasses(t),n=this.options.baseClasses(r,t);return Object.keys(n).reduce((function(r,i){var o,s=D(n[i],e.options.classes[i],t);return s=function(t,e,r,n){return Object.keys(V).reduce((function(e,i){if(V[i](n)){var o=""+t+b(i),s=o+"Class";r[o]&&(e=D(e,"string"==typeof r[o]?x(r[o]):r[o],n)),n[s]&&(e=D(e,"string"==typeof n[s]?x(n[s]):n[o+"Class"],n))}return e}),e)}(i,s=D(s,t[i+"Class"],t),e.options.classes,t),Object.assign(r,((o={})[i]=s,o))}),{})},ie.prototype.typeProps=function(t){var e=function(t){return Object.keys(t).reduce((function(e,r){return Array.isArray(t[r])?e.concat(t[r]):e}),[])},r=e(this.options.slotProps);return this.options.library[t]?r.concat(e(this.options.library[t].slotProps||{})):r},ie.prototype.slotProps=function(t,e,r){var n=Array.isArray(this.options.slotProps[e])?this.options.slotProps[e]:[],i=this.options.library[t];return i&&i.slotProps&&Array.isArray(i.slotProps[e])&&(n=n.concat(i.slotProps[e])),n.reduce((function(t,e){var n;return Object.assign(t,((n={})[e]=r[e],n))}),{})},ie.prototype.component=function(t){return!!this.options.library.hasOwnProperty(t)&&this.options.library[t].component},ie.prototype.slotComponent=function(t,e){var r=this.options.library[t];return r&&r.slotComponents&&r.slotComponents[e]?r.slotComponents[e]:this.options.slotComponents[e]},ie.prototype.rules=function(t){return void 0===t&&(t={}),Object.assign({},this.options.rules,t)},ie.prototype.i18n=function(t){if(t.$i18n)switch(typeof t.$i18n.locale){case"string":return t.$i18n.locale;case"function":return t.$i18n.locale()}return!1},ie.prototype.getLocale=function(t){var e=this;return this.selectedLocale||(this.selectedLocale=[this.options.locale,this.i18n(t),"en"].reduce((function(t,r){if(t)return t;if(r){var n=function(t){return t.split("-").reduce((function(t,e){return t.length&&t.unshift(t[0]+"-"+e),t.length?t:[e]}),[])}(r).find((function(t){return E(e.options.locales,t)}));n&&(t=n)}return t}),!1)),this.selectedLocale},ie.prototype.validationMessage=function(t,e,r){var n=this.options.locales[this.getLocale(r)];return n.hasOwnProperty(t)?n[t](e):n.hasOwnProperty("default")?n.default(e):"Invalid field value"},ie.prototype.register=function(t){"FormulateForm"===t.$options.name&&t.name&&this.registry.set(t.name,t)},ie.prototype.deregister=function(t){"FormulateForm"===t.$options.name&&t.name&&this.registry.has(t.name)&&this.registry.delete(t.name)},ie.prototype.handle=function(t,e,r){void 0===r&&(r=!1);var n=r?t:this.options.errorHandler(t,e);return e&&this.registry.has(e)&&this.registry.get(e).applyErrors({formErrors:x(n.formErrors),inputErrors:n.inputErrors||{}}),n},ie.prototype.reset=function(t,e){void 0===e&&(e={}),this.resetValidation(t),this.setValues(t,e)},ie.prototype.submit=function(t){this.registry.get(t).formSubmitted()},ie.prototype.resetValidation=function(t){var e=this.registry.get(t);e.hideErrors(t),e.namedErrors=[],e.namedFieldErrors={}},ie.prototype.setValues=function(t,e){e&&!Array.isArray(e)&&"object"==typeof e&&this.registry.get(t).setValues(Object.assign({},e))},ie.prototype.getUploader=function(){return this.options.uploader||!1},ie.prototype.getUploadUrl=function(){return this.options.uploadUrl||!1},ie.prototype.getFileUrlKey=function(){return this.options.fileUrlKey||"url"},ie.prototype.createUpload=function(t,e){return new m(t,e,this.options)};var oe=new ie,se=function(t){return void 0===t&&(t=[]),this.defaultHook=function(t){return t},this.setHooks(t)};se.prototype.parse=function(t){void 0===t&&(t=[]);var e=Array.isArray(t)?t:[];for(var r of e)this.isProperHook(r)&&this.hooks.push(r);return this},se.prototype.addHook=function(t){return this.isProperHook(t)&&this.isNewHook(t)&&this.hooks.push(t),this},se.prototype.setHooks=function(t){return void 0===t&&(t=[]),this.hooks=t.filter(this.isProperHook),this},se.prototype.setDefault=function(t){return this.defaultHook=t,this},se.prototype.isProperHook=function(t){return t&&"object"==typeof t&&"function"==typeof t.handler},se.prototype.isNewHook=function(t){return this.hooks.findIndex((function(e){return e===t}))<0},se.prototype.getHooks=function(){return this.hooks},se.prototype.empty=function(){return 0===this.hooks.length},se.prototype.apply=function(t,e){return this.empty()?this.defaultHook(t,e):this.hooks.reduce((function(t,r){return r.handler(t,e)}),t)},se.prototype.asSingleHook=function(){var t=this;return{handler:function(e,r){return t.apply(e,r)}}};var ae={type:Object,default:function(){return{model:[],schema:[],schemaOptions:[],schemaNode:[],schemaComponent:[]}}};function ue(t,e,r,n,i,o,s,a,u,l){"boolean"!=typeof s&&(u=a,a=s,s=!1);var c,h="function"==typeof r?r.options:r;if(t&&t.render&&(h.render=t.render,h.staticRenderFns=t.staticRenderFns,h._compiled=!0,i&&(h.functional=!0)),n&&(h._scopeId=n),o?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,u(t)),t&&t._registeredComponents&&t._registeredComponents.add(o)},h._ssrRegister=c):e&&(c=s?function(t){e.call(this,l(t,this.$root.$options.shadowRoot))}:function(t){e.call(this,a(t))}),c)if(h.functional){var d=h.render;h.render=function(t,e){return c.call(e),d(t,e)}}else{var p=h.beforeCreate;h.beforeCreate=p?[].concat(p,c):[c]}return r}var le={extends:oe.defaults.components.FormulateInput,props:{modelHook:{type:[Function,Object,Array],default:null}},watch:{"context.model":{handler:function(t,e){var r=new se;Array.isArray(this.modelHook)?this.modelHook.map((function(t){return r.addHook(t)})):"function"==typeof this.modelHook?r.addHook({handler:this.modelHook}):r.addHook(this.modelHook),(this.$formulate.options.hooks&&this.$formulate.options.hooks.model?this.$formulate.options.hooks.model:[]).map((function(t){return r.addHook(t)})),t!==e&&(this.context.model=r.apply(t,{oldModel:e,context:this.context}))}}}},ce=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{class:t.context.classes.outer,attrs:{"data-classification":t.classification,"data-has-errors":t.hasErrors,"data-is-showing-errors":t.hasVisibleErrors,"data-has-value":t.hasValue,"data-type":t.type},on:{click:function(e){return t.$emit("outer-click")}}},[r("div",{class:t.context.classes.wrapper,on:{click:function(e){return t.$emit("wrapper-click")}}},["before"===t.context.labelPosition?t._t("label",[t.context.hasLabel?r(t.context.slotComponents.label,t._b({tag:"component",attrs:{context:t.context}},"component",t.context.slotProps.label,!1)):t._e()],null,t.context):t._e(),t._v(" "),"before"===t.context.helpPosition?t._t("help",[t.context.help?r(t.context.slotComponents.help,t._b({tag:"component",attrs:{context:t.context}},"component",t.context.slotProps.help,!1)):t._e()],null,t.context):t._e(),t._v(" "),t._t("element",[r(t.context.component,t._g(t._b({tag:"component",attrs:{context:t.context}},"component",t.context.slotProps.component,!1),t.listeners),[t._t("default",null,null,t.context)],2)],null,t.context),t._v(" "),"after"===t.context.labelPosition?t._t("label",[t.context.hasLabel?r(t.context.slotComponents.label,t._b({tag:"component",attrs:{context:t.context}},"component",t.context.slotProps.label,!1)):t._e()],null,t.context):t._e()],2),t._v(" "),"after"===t.context.helpPosition?t._t("help",[t.context.help?r(t.context.slotComponents.help,t._b({tag:"component",attrs:{context:t.context}},"component",t.context.slotProps.help,!1)):t._e()],null,t.context):t._e(),t._v(" "),t._t("errors",[t.context.disableErrors?t._e():r(t.context.slotComponents.errors,t._b({tag:"component",attrs:{type:"FormulateErrors"===t.context.slotComponents.errors&&"input",context:t.context}},"component",t.context.slotProps.errors,!1))],null,t.context)],2)};ce._withStripped=!0;var he=ue({render:ce,staticRenderFns:[]},void 0,le,void 0,!1,void 0,!1,void 0,void 0,void 0);function de(t,e,r){void 0===r&&(r={});var n=r.hooks,i=r.h,o=r.state;if(t&&"object"==typeof t&&!Array.isArray(t)){var s=t.children;void 0===s&&(s=null);var a=t.component;void 0===a&&(a=he);var u=t.depth;void 0===u&&(u=1);var l=t.modelHook,c=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&-1===e.indexOf(n)&&(r[n]=t[n]);return r}(t,["children","component","depth","modelHook"]),h=a===he?c.type||"text":"",d=c.name||h||"el",p=c.id||d+"-"+u+"-"+e,f=Array.isArray(s)?s.map((function(t){return Object.assign(t,{depth:u+1})})):s,m=(new se).setHooks(n.model).addHook(l).asSingleHook(),v=Object.assign({type:h,key:p,depth:u,component:a,definition:{attrs:Object.assign({},c,{modelHook:m})},children:pe(f,{hooks:n,h:i,state:o})});return(new se).setHooks(n.schemaNode).setDefault((function(){return v})).apply(v,{state:o})}return null}function pe(t,e){void 0===e&&(e={});var r=e.hooks,n=e.h,i=e.state;return Array.isArray(t)?t.map((function(t,e){var o=de(t,e,{hooks:r,h:n,state:i});return(new se).setHooks(r.schemaComponent).setDefault((function(){return n(o.component,o.definition,o.children)})).apply(o)})):t}var fe={functional:!1,name:"FormulateSchema",props:{schema:oe.defaults.components.FormulateForm.props.schema,hooks:ae,formClass:{type:String,default:null}},data:function(){return{schemaHooks:null,schemaOptionsHooks:null}},methods:{emit:function(t,e){this.$emit(t,e)}},beforeMount:function(){this.schemaHooks=(new se).setHooks(this.hooks.schema),this.schemaOptionsHooks=(new se).setHooks(this.hooks.schemaOptions).setDefault((function(t){return t}))},render:function(t){return this.schemaHooks.apply(t("div",{class:this.$props.formClass},pe(this.schema,this.schemaOptionsHooks.apply({hooks:this.hooks,h:t,state:{}},{emit:this.emit,props:this.$props}))),{emit:this.emit,props:this.$props})}},me=function(t,e,r){void 0===r&&(r={}),this.input=t,this.fileList=t.files,this.files=[],this.options=Object.assign({},{mimes:{}},r),this.results=!1,this.context=e,Array.isArray(this.fileList)?this.rehydrateFileList(this.fileList):this.addFileList(this.fileList)};function ve(t,e){var r={};for(var n in t)r[n]=e(n,t[n]);return r}function ye(t,e){if(t===e)return!0;if(!t||!e)return!1;var r=Object.keys(t),n=Object.keys(e),i=r.length;if(n.length!==i)return!1;for(var o=0;o<i;o++){var s=r[o];if(t[s]!==e[s])return!1}return!0}function ge(t){return"string"==typeof t?t.replace(/([_-][a-z0-9])/gi,(function(e){return 0===t.indexOf(e)||/[_-]/.test(t[t.indexOf(e)-1])?e:e.toUpperCase().replace(/[_-]/,"")})):t}function be(t){return"string"==typeof t?t[0].toUpperCase()+t.substr(1):t}function xe(t){return t?"string"==typeof t?[t]:Array.isArray(t)?t:"object"==typeof t?Object.values(t):[]:[]}function _e(t,e){return"string"==typeof t?_e(t.split("|"),e):Array.isArray(t)?t.map((function(t){return function(t,e){if("function"==typeof t)return[t,[]];if(Array.isArray(t)&&t.length){var r=ke((t=t.map((function(t){return t}))).shift()),n=r[0],i=r[1];if("string"==typeof n&&e.hasOwnProperty(n))return[e[n],t,n,i];if("function"==typeof n)return[n,t,n,i]}if("string"==typeof t&&t){var o=t.split(":"),s=ke(o.shift()),a=s[0],u=s[1];if(e.hasOwnProperty(a))return[e[a],o.length?o.join(":").split(","):[],a,u];throw new Error("Unknown validation rule "+t)}return!1}(t,e)})).filter((function(t){return!!t})):[]}function ke(t){return/^[\^]/.test(t.charAt(0))?[ge(t.substr(1)),t.charAt(0)]:[ge(t),null]}function Ee(t){switch(typeof t){case"symbol":case"number":case"string":case"boolean":case"undefined":return!0;default:return null===t}}function Ae(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Fe(t,e){return Object.defineProperty(t,"__id",Object.assign(Object.create(null),{value:e||Symbol("uuid")}))}function we(t){return"number"!=typeof t&&(void 0===t||""===t||null===t||!1===t||Array.isArray(t)&&!t.some((function(t){return!we(t)}))||t&&!Array.isArray(t)&&"object"==typeof t&&we(Object.values(t)))}me.prototype.rehydrateFileList=function(t){var e=this,r=t.reduce((function(t,r){var n=r[e.options?e.options.fileUrlKey:"url"],i=!(!n||-1===n.lastIndexOf("."))&&n.substr(n.lastIndexOf(".")+1),o=e.options.mimes[i]||!1;return t.push(Object.assign({},r,n?{name:n.substr(n.lastIndexOf("/")+1||0),type:r.type?r.type:o,previewData:n}:{})),t}),[]);this.results=t,this.addFileList(r)},me.prototype.addFileList=function(t){for(var e=this,r=function(r){var n=t[r],i=a();e.files.push({progress:!1,error:!1,complete:!1,justFinished:!1,name:n.name||"file-upload",file:n,uuid:i,path:!1,removeFile:function(){this.removeFile(i)}.bind(e),previewData:n.previewData||!1})},n=0;n<t.length;n++)r(n)},me.prototype.hasUploader=function(){return!!this.context.uploader},me.prototype.uploaderIsAxios=function(){return!(!this.hasUploader||"function"!=typeof this.context.uploader.request||"function"!=typeof this.context.uploader.get||"function"!=typeof this.context.uploader.delete||"function"!=typeof this.context.uploader.post)},me.prototype.getUploader=function(){for(var t,e=[],r=arguments.length;r--;)e[r]=arguments[r];if(this.uploaderIsAxios()){var n=new FormData;if(n.append(this.context.name||"file",e[0]),!1===this.context.uploadUrl)throw new Error("No uploadURL specified: https://vueformulate.com/guide/inputs/file/#props");return this.context.uploader.post(this.context.uploadUrl,n,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:function(t){e[1](Math.round(100*t.loaded/t.total))}}).then((function(t){return t.data})).catch((function(t){return e[2](t)}))}return(t=this.context).uploader.apply(t,e)},me.prototype.upload=function(){var t=this;return this.results?Promise.resolve(this.results):new Promise((function(e,r){if(!t.hasUploader)return r(new Error("No uploader has been defined"));Promise.all(t.files.map((function(e){return e.path?Promise.resolve(e.path):t.getUploader(e.file,(function(r){e.progress=r,r>=100&&(e.complete||(e.justFinished=!0,setTimeout((function(){e.justFinished=!1}),t.options.uploadJustCompleteDuration)),e.complete=!0)}),(function(t){e.progress=0,e.error=t,e.complete=!0}),t.options)}))).then((function(r){t.results=r,e(r)})).catch((function(t){throw new Error(t)}))}))},me.prototype.removeFile=function(t){if(this.files=this.files.filter((function(e){return e.uuid!==t})),this.context.performValidation(),window&&this.fileList instanceof FileList){var e=new DataTransfer;this.files.map((function(t){return e.items.add(t.file)})),this.fileList=e.files,this.input.files=this.fileList}},me.prototype.loadPreviews=function(){this.files.map((function(t){if(!t.previewData&&window&&window.FileReader&&/^image\//.test(t.file.type)){var e=new FileReader;e.onload=function(e){return Object.assign(t,{previewData:e.target.result})},e.readAsDataURL(t.file)}}))},me.prototype.getFileList=function(){return this.fileList},me.prototype.getFiles=function(){return this.files},me.prototype.toString=function(){var t=this.files.length?this.files.length+" files":"empty";return this.results?JSON.stringify(this.results,null,"  "):"FileUpload("+t+")"};var Pe={extends:oe.defaults.components.FormulateForm,components:{FormulateSchema:fe},props:{hooks:ae,formClass:{type:String,default:null}},computed:{cleanedHooks:function(){var t=this,e=ae.default();return Object.keys(e).forEach((function(r){e[r]=(new se).parse(t.hooks[r]).getHooks()})),oe.merge(this.$formulate.options.hooks||{},e)}},watch:{formulateValue:{handler:function(t){var e=this;this.isVmodeled&&t&&"object"==typeof t&&Array.from(new Set(Object.keys(t).concat(Object.keys(this.proxy)))).forEach((function(r){ye(t[r],e.proxy[r])||(e.setFieldValue(r,t[r]),e.registry.has(r)&&!ye(t[r],e.registry.get(r).proxy)&&(e.registry.get(r).context.model=t[r]))}))},deep:!0}}},Se=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("form",{class:t.classes,on:{submit:function(e){return e.preventDefault(),t.formSubmitted(e)}}},[t.schema?r("FormulateSchema",{attrs:{schema:t.schema,hooks:t.cleanedHooks,formClass:t.formClass},on:{events:function(e){return t.$emit("events",e)}}}):t._e(),t._v(" "),t.hasFormErrorObservers?t._e():r("FormulateErrors",{attrs:{context:t.formContext}}),t._v(" "),t._t("default")],2)};Se._withStripped=!0;var Oe=ue({render:Se,staticRenderFns:[]},void 0,Pe,void 0,!1,void 0,!1,void 0,void 0,void 0),Ce=function(){this.store=new Map};Ce.prototype.on=function(t,e){var r=this.store.get(t);r&&r.push(e)||this.store.set(t,[e])},Ce.prototype.off=function(t,e){var r=this.store.get(t),n=r.indexOf(e);r&&n>-1&&r.splice(n,1)},Ce.prototype.emit=function(t,e){this.store.get(t).slice().map((function(t){return t(e)}))};var Ve={hooks:{schemaOptions:[{handler:function(t,e){void 0===e&&(e={});var r=e.emit;return t.state=t.state||{},t.state.eventBus=new Ce,t.state.eventBus.on("events",(function(t){return r("events",t)})),t}}],schemaNode:[{handler:function(t,e){void 0===e&&(e={});var r=e.state,n=t.definition.attrs,i=n.events;void 0===i&&(i=[]);var o=n.on;void 0===o&&(o={});var s=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&-1===e.indexOf(n)&&(r[n]=t[n]);return r}(n,["events","on"]);return t.definition.attrs=s,t.definition.on=Object.assign({},o,i.reduce((function(e,n){return e[n]=function(e){o[n]&&o[n](e),r.eventBus.emit("events",{eventName:n,name:t.name,type:t.type,key:t.key,payload:e})},e}),{})),t}}]}};function je(t){return(je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function De(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Be(t,e,r){return e&&$e(t.prototype,e),r&&$e(t,r),t}function Ie(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Me(t,e)}function Re(t){return(Re=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Me(t,e){return(Me=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ne(t,e){if(null==t)return{};var r,n,i=function(t,e){if(null==t)return{};var r,n,i={},o=Object.keys(t);for(n=0;n<o.length;n++)r=o[n],e.indexOf(r)>=0||(i[r]=t[r]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(n=0;n<o.length;n++)r=o[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Te(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Le(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Re(t)););return t}function Ue(t,e,r){return(Ue="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var n=Le(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(r):i.value}})(t,e,r||t)}function He(t,e,r,n){return(He="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function(t,e,r,n){var i,o=Le(t,e);if(o){if((i=Object.getOwnPropertyDescriptor(o,e)).set)return i.set.call(n,r),!0;if(!i.writable)return!1}if(i=Object.getOwnPropertyDescriptor(n,e)){if(!i.writable)return!1;i.value=r,Object.defineProperty(n,e,i)}else!function(t,e,r){e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(n,e,r);return!0})(t,e,r,n)}function Ge(t,e,r,n,i){if(!He(t,e,r,n||t)&&i)throw new Error("failed to set property");return r}function qe(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t))&&"[object Arguments]"!==Object.prototype.toString.call(t))return;var r=[],n=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!e||r.length!==e);n=!0);}catch(t){i=!0,o=t}finally{try{n||null==a.return||a.return()}finally{if(i)throw o}}return r}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function We(t){return"string"==typeof t||t instanceof String}var ze="NONE",Ye="LEFT",Ze="FORCE_LEFT",Ke="RIGHT",Je="FORCE_RIGHT";function Xe(t){switch(t){case Ye:return Ze;case Ke:return Je;default:return t}}function Qe(t){return t.replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1")}var tr=function(){function t(e,r,n,i){for(De(this,t),this.value=e,this.cursorPos=r,this.oldValue=n,this.oldSelection=i;this.value.slice(0,this.startChangePos)!==this.oldValue.slice(0,this.startChangePos);)--this.oldSelection.start}return Be(t,[{key:"startChangePos",get:function(){return Math.min(this.cursorPos,this.oldSelection.start)}},{key:"insertedCount",get:function(){return this.cursorPos-this.startChangePos}},{key:"inserted",get:function(){return this.value.substr(this.startChangePos,this.insertedCount)}},{key:"removedCount",get:function(){return Math.max(this.oldSelection.end-this.startChangePos||this.oldValue.length-this.value.length,0)}},{key:"removed",get:function(){return this.oldValue.substr(this.startChangePos,this.removedCount)}},{key:"head",get:function(){return this.value.substring(0,this.startChangePos)}},{key:"tail",get:function(){return this.value.substring(this.startChangePos+this.insertedCount)}},{key:"removeDirection",get:function(){return!this.removedCount||this.insertedCount?ze:this.oldSelection.end===this.cursorPos||this.oldSelection.start===this.cursorPos?Ke:Ye}}]),t}(),er=function(){function t(e){De(this,t),Object.assign(this,{inserted:"",rawInserted:"",skip:!1,tailShift:0},e)}return Be(t,[{key:"aggregate",value:function(t){return this.rawInserted+=t.rawInserted,this.skip=this.skip||t.skip,this.inserted+=t.inserted,this.tailShift+=t.tailShift,this}},{key:"offset",get:function(){return this.tailShift+this.inserted.length}}]),t}(),rr=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;De(this,t),this.value=e,this.from=r,this.stop=n}return Be(t,[{key:"toString",value:function(){return this.value}},{key:"extend",value:function(t){this.value+=String(t)}},{key:"appendTo",value:function(t){return t.append(this.toString(),{tail:!0}).aggregate(t._appendPlaceholder())}},{key:"shiftBefore",value:function(t){if(this.from>=t||!this.value.length)return"";var e=this.value[0];return this.value=this.value.slice(1),e}},{key:"state",get:function(){return{value:this.value,from:this.from,stop:this.stop}},set:function(t){Object.assign(this,t)}}]),t}();function nr(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new nr.InputMask(t,e)}var ir=function(){function t(e){De(this,t),this._value="",this._update(Object.assign({},t.DEFAULTS,{},e)),this.isInitialized=!0}return Be(t,[{key:"updateOptions",value:function(t){Object.keys(t).length&&this.withValueRefresh(this._update.bind(this,t))}},{key:"_update",value:function(t){Object.assign(this,t)}},{key:"reset",value:function(){this._value=""}},{key:"resolve",value:function(t){return this.reset(),this.append(t,{input:!0},""),this.doCommit(),this.value}},{key:"nearestInputPos",value:function(t,e){return t}},{key:"extractInput",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length;return this.value.slice(t,e)}},{key:"extractTail",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length;return new rr(this.extractInput(t,e),t)}},{key:"appendTail",value:function(t){return We(t)&&(t=new rr(String(t))),t.appendTo(this)}},{key:"_appendCharRaw",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(t=this.doPrepare(t,e))?(this._value+=t,new er({inserted:t,rawInserted:t})):new er}},{key:"_appendChar",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,n=this.state,i=this._appendCharRaw(t,e);if(i.inserted){var o,s=!1!==this.doValidate(e);if(s&&null!=r){var a=this.state;this.overwrite&&(o=r.state,r.shiftBefore(this.value.length));var u=this.appendTail(r);(s=u.rawInserted===r.toString())&&u.inserted&&(this.state=a)}s||(i=new er,this.state=n,r&&o&&(r.state=o))}return i}},{key:"_appendPlaceholder",value:function(){return new er}},{key:"append",value:function(t,e,r){if(!We(t))throw new Error("value should be string");var n=new er,i=We(r)?new rr(String(r)):r;e.tail&&(e._beforeTailState=this.state);for(var o=0;o<t.length;++o)n.aggregate(this._appendChar(t[o],e,i));return null!=i&&(n.tailShift+=this.appendTail(i).tailShift),n}},{key:"remove",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length;return this._value=this.value.slice(0,t)+this.value.slice(e),new er}},{key:"withValueRefresh",value:function(t){if(this._refreshing||!this.isInitialized)return t();this._refreshing=!0;var e=this.rawInputValue,r=this.value,n=t();return this.rawInputValue=e,this.value!==r&&0===r.indexOf(this.value)&&this.append(r.slice(this.value.length),{},""),delete this._refreshing,n}},{key:"runIsolated",value:function(t){if(this._isolated||!this.isInitialized)return t(this);this._isolated=!0;var e=this.state,r=t(this);return this.state=e,delete this._isolated,r}},{key:"doPrepare",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.prepare?this.prepare(t,this,e):t}},{key:"doValidate",value:function(t){return(!this.validate||this.validate(this.value,this,t))&&(!this.parent||this.parent.doValidate(t))}},{key:"doCommit",value:function(){this.commit&&this.commit(this.value,this)}},{key:"doFormat",value:function(t){return this.format?this.format(t,this):t}},{key:"doParse",value:function(t){return this.parse?this.parse(t,this):t}},{key:"splice",value:function(t,e,r,n){var i=t+e,o=this.extractTail(i),s=this.nearestInputPos(t,n);return new er({tailShift:s-t}).aggregate(this.remove(s)).aggregate(this.append(r,{input:!0},o))}},{key:"state",get:function(){return{_value:this.value}},set:function(t){this._value=t._value}},{key:"value",get:function(){return this._value},set:function(t){this.resolve(t)}},{key:"unmaskedValue",get:function(){return this.value},set:function(t){this.reset(),this.append(t,{},""),this.doCommit()}},{key:"typedValue",get:function(){return this.doParse(this.value)},set:function(t){this.value=this.doFormat(t)}},{key:"rawInputValue",get:function(){return this.extractInput(0,this.value.length,{raw:!0})},set:function(t){this.reset(),this.append(t,{raw:!0},""),this.doCommit()}},{key:"isComplete",get:function(){return!0}}]),t}();function or(t){if(null==t)throw new Error("mask property should be defined");return t instanceof RegExp?nr.MaskedRegExp:We(t)?nr.MaskedPattern:t instanceof Date||t===Date?nr.MaskedDate:t instanceof Number||"number"==typeof t||t===Number?nr.MaskedNumber:Array.isArray(t)||t===Array?nr.MaskedDynamic:nr.Masked&&t.prototype instanceof nr.Masked?t:t instanceof Function?nr.MaskedFunction:t instanceof nr.Masked?t.constructor:(console.warn("Mask not found for mask",t),nr.Masked)}function sr(t){if(nr.Masked&&t instanceof nr.Masked)return t;var e=(t=Object.assign({},t)).mask;if(nr.Masked&&e instanceof nr.Masked)return e;var r=or(e);if(!r)throw new Error("Masked class is not found for provided mask, appropriate module needs to be import manually before creating mask.");return new r(t)}ir.DEFAULTS={format:function(t){return t},parse:function(t){return t}},nr.Masked=ir,nr.createMask=sr;var ar={0:/\d/,a:/[\u0041-\u005A\u0061-\u007A\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,"*":/./},ur=function(){function t(e){De(this,t);var r=e.mask,n=Ne(e,["mask"]);this.masked=sr({mask:r}),Object.assign(this,n)}return Be(t,[{key:"reset",value:function(){this._isFilled=!1,this.masked.reset()}},{key:"remove",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length;return 0===t&&e>=1?(this._isFilled=!1,this.masked.remove(t,e)):new er}},{key:"_appendChar",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._isFilled)return new er;var r=this.masked.state,n=this.masked._appendChar(t,e);return n.inserted&&!1===this.doValidate(e)&&(n.inserted=n.rawInserted="",this.masked.state=r),n.inserted||this.isOptional||this.lazy||e.input||(n.inserted=this.placeholderChar),n.skip=!n.inserted&&!this.isOptional,this._isFilled=Boolean(n.inserted),n}},{key:"append",value:function(){var t;return(t=this.masked).append.apply(t,arguments)}},{key:"_appendPlaceholder",value:function(){var t=new er;return this._isFilled||this.isOptional||(this._isFilled=!0,t.inserted=this.placeholderChar),t}},{key:"extractTail",value:function(){var t;return(t=this.masked).extractTail.apply(t,arguments)}},{key:"appendTail",value:function(){var t;return(t=this.masked).appendTail.apply(t,arguments)}},{key:"extractInput",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length,r=arguments.length>2?arguments[2]:void 0;return this.masked.extractInput(t,e,r)}},{key:"nearestInputPos",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ze,r=0,n=this.value.length,i=Math.min(Math.max(t,r),n);switch(e){case Ye:case Ze:return this.isComplete?i:r;case Ke:case Je:return this.isComplete?i:n;case ze:default:return i}}},{key:"doValidate",value:function(){var t,e;return(t=this.masked).doValidate.apply(t,arguments)&&(!this.parent||(e=this.parent).doValidate.apply(e,arguments))}},{key:"doCommit",value:function(){this.masked.doCommit()}},{key:"value",get:function(){return this.masked.value||(this._isFilled&&!this.isOptional?this.placeholderChar:"")}},{key:"unmaskedValue",get:function(){return this.masked.unmaskedValue}},{key:"isComplete",get:function(){return Boolean(this.masked.value)||this.isOptional}},{key:"state",get:function(){return{masked:this.masked.state,_isFilled:this._isFilled}},set:function(t){this.masked.state=t.masked,this._isFilled=t._isFilled}}]),t}(),lr=function(){function t(e){De(this,t),Object.assign(this,e),this._value=""}return Be(t,[{key:"reset",value:function(){this._isRawInput=!1,this._value=""}},{key:"remove",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._value.length;return this._value=this._value.slice(0,t)+this._value.slice(e),this._value||(this._isRawInput=!1),new er}},{key:"nearestInputPos",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ze,r=0,n=this._value.length;switch(e){case Ye:case Ze:return r;case ze:case Ke:case Je:default:return n}}},{key:"extractInput",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._value.length,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r.raw&&this._isRawInput&&this._value.slice(t,e)||""}},{key:"_appendChar",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=new er;if(this._value)return r;var n=this.char===t[0],i=n&&(this.isUnmasking||e.input||e.raw)&&!e.tail;return i&&(r.rawInserted=this.char),this._value=r.inserted=this.char,this._isRawInput=i&&(e.raw||e.input),r}},{key:"_appendPlaceholder",value:function(){var t=new er;return this._value||(this._value=t.inserted=this.char),t}},{key:"extractTail",value:function(){arguments.length>1&&void 0!==arguments[1]||this.value.length;return new rr("")}},{key:"appendTail",value:function(t){return We(t)&&(t=new rr(String(t))),t.appendTo(this)}},{key:"append",value:function(t,e,r){var n=this._appendChar(t,e);return null!=r&&(n.tailShift+=this.appendTail(r).tailShift),n}},{key:"doCommit",value:function(){}},{key:"value",get:function(){return this._value}},{key:"unmaskedValue",get:function(){return this.isUnmasking?this.value:""}},{key:"isComplete",get:function(){return!0}},{key:"state",get:function(){return{_value:this._value,_isRawInput:this._isRawInput}},set:function(t){Object.assign(this,t)}}]),t}(),cr=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;De(this,t),this.chunks=e,this.from=r}return Be(t,[{key:"toString",value:function(){return this.chunks.map(String).join("")}},{key:"extend",value:function(e){if(String(e)){We(e)&&(e=new rr(String(e)));var r=this.chunks[this.chunks.length-1],n=r&&(r.stop===e.stop||null==e.stop)&&e.from===r.from+r.toString().length;if(e instanceof rr)n?r.extend(e.toString()):this.chunks.push(e);else if(e instanceof t){if(null==e.stop)for(var i;e.chunks.length&&null==e.chunks[0].stop;)(i=e.chunks.shift()).from+=e.from,this.extend(i);e.toString()&&(e.stop=e.blockIndex,this.chunks.push(e))}}}},{key:"appendTo",value:function(e){if(!(e instanceof nr.MaskedPattern))return new rr(this.toString()).appendTo(e);for(var r=new er,n=0;n<this.chunks.length&&!r.skip;++n){var i=this.chunks[n],o=e._mapPosToBlock(e.value.length),s=i.stop,a=void 0;if(null!=s&&(!o||o.index<=s)&&((i instanceof t||e._stops.indexOf(s)>=0)&&r.aggregate(e._appendPlaceholder(s)),a=i instanceof t&&e._blocks[s]),a){var u=a.appendTail(i);u.skip=!1,r.aggregate(u),e._value+=u.inserted;var l=i.toString().slice(u.rawInserted.length);l&&r.aggregate(e.append(l,{tail:!0}))}else r.aggregate(e.append(i.toString(),{tail:!0}))}return r}},{key:"shiftBefore",value:function(t){if(this.from>=t||!this.chunks.length)return"";for(var e=t-this.from,r=0;r<this.chunks.length;){var n=this.chunks[r],i=n.shiftBefore(e);if(n.toString()){if(!i)break;++r}else this.chunks.splice(r,1);if(i)return i}return""}},{key:"state",get:function(){return{chunks:this.chunks.map((function(t){return t.state})),from:this.from,stop:this.stop,blockIndex:this.blockIndex}},set:function(e){var r=e.chunks,n=Ne(e,["chunks"]);Object.assign(this,n),this.chunks=r.map((function(e){var r="chunks"in e?new t:new rr;return r.state=e,r}))}}]),t}(),hr=function(t){function e(){return De(this,e),Te(this,Re(e).apply(this,arguments))}return Ie(e,t),Be(e,[{key:"_update",value:function(t){t.mask&&(t.validate=function(e){return e.search(t.mask)>=0}),Ue(Re(e.prototype),"_update",this).call(this,t)}}]),e}(ir);nr.MaskedRegExp=hr;var dr=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return De(this,e),t.definitions=Object.assign({},ar,t.definitions),Te(this,Re(e).call(this,Object.assign({},e.DEFAULTS,{},t)))}return Ie(e,t),Be(e,[{key:"_update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.definitions=Object.assign({},this.definitions,t.definitions),Ue(Re(e.prototype),"_update",this).call(this,t),this._rebuildMask()}},{key:"_rebuildMask",value:function(){var t=this,r=this.definitions;this._blocks=[],this._stops=[],this._maskedBlocks={};var n=this.mask;if(n&&r)for(var i=!1,o=!1,s=0;s<n.length;++s){if(this.blocks)if("continue"===function(){var e=n.slice(s),r=Object.keys(t.blocks).filter((function(t){return 0===e.indexOf(t)}));r.sort((function(t,e){return e.length-t.length}));var i=r[0];if(i){var o=sr(Object.assign({parent:t,lazy:t.lazy,placeholderChar:t.placeholderChar,overwrite:t.overwrite},t.blocks[i]));return o&&(t._blocks.push(o),t._maskedBlocks[i]||(t._maskedBlocks[i]=[]),t._maskedBlocks[i].push(t._blocks.length-1)),s+=i.length-1,"continue"}}())continue;var a=n[s],u=a in r;if(a!==e.STOP_CHAR)if("{"!==a&&"}"!==a)if("["!==a&&"]"!==a){if(a===e.ESCAPE_CHAR){if(++s,!(a=n[s]))break;u=!1}var l=u?new ur({parent:this,lazy:this.lazy,placeholderChar:this.placeholderChar,mask:r[a],isOptional:o}):new lr({char:a,isUnmasking:i});this._blocks.push(l)}else o=!o;else i=!i;else this._stops.push(this._blocks.length)}}},{key:"reset",value:function(){Ue(Re(e.prototype),"reset",this).call(this),this._blocks.forEach((function(t){return t.reset()}))}},{key:"doCommit",value:function(){this._blocks.forEach((function(t){return t.doCommit()})),Ue(Re(e.prototype),"doCommit",this).call(this)}},{key:"appendTail",value:function(t){return Ue(Re(e.prototype),"appendTail",this).call(this,t).aggregate(this._appendPlaceholder())}},{key:"_appendCharRaw",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t=this.doPrepare(t,e);var r=this._mapPosToBlock(this.value.length),n=new er;if(!r)return n;for(var i=r.index;;++i){var o=this._blocks[i];if(!o)break;var s=o._appendChar(t,e),a=s.skip;if(n.aggregate(s),a||s.rawInserted)break}return n}},{key:"extractTail",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length,n=new cr;return e===r||this._forEachBlocksInRange(e,r,(function(e,r,i,o){var s=e.extractTail(i,o);s.stop=t._findStopBefore(r),s.from=t._blockStartPos(r),s instanceof cr&&(s.blockIndex=r),n.extend(s)})),n}},{key:"extractInput",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t===e)return"";var n="";return this._forEachBlocksInRange(t,e,(function(t,e,i,o){n+=t.extractInput(i,o,r)})),n}},{key:"_findStopBefore",value:function(t){for(var e,r=0;r<this._stops.length;++r){var n=this._stops[r];if(!(n<=t))break;e=n}return e}},{key:"_appendPlaceholder",value:function(t){var e=this,r=new er;if(this.lazy&&null==t)return r;var n=this._mapPosToBlock(this.value.length);if(!n)return r;var i=n.index,o=null!=t?t:this._blocks.length;return this._blocks.slice(i,o).forEach((function(n){if(!n.lazy||null!=t){var i=null!=n._blocks?[n._blocks.length]:[],o=n._appendPlaceholder.apply(n,i);e._value+=o.inserted,r.aggregate(o)}})),r}},{key:"_mapPosToBlock",value:function(t){for(var e="",r=0;r<this._blocks.length;++r){var n=this._blocks[r],i=e.length;if(t<=(e+=n.value).length)return{index:r,offset:t-i}}}},{key:"_blockStartPos",value:function(t){return this._blocks.slice(0,t).reduce((function(t,e){return t+e.value.length}),0)}},{key:"_forEachBlocksInRange",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length,r=arguments.length>2?arguments[2]:void 0,n=this._mapPosToBlock(t);if(n){var i=this._mapPosToBlock(e),o=i&&n.index===i.index,s=n.offset,a=i&&o?i.offset:this._blocks[n.index].value.length;if(r(this._blocks[n.index],n.index,s,a),i&&!o){for(var u=n.index+1;u<i.index;++u)r(this._blocks[u],u,0,this._blocks[u].value.length);r(this._blocks[i.index],i.index,0,i.offset)}}}},{key:"remove",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length,n=Ue(Re(e.prototype),"remove",this).call(this,t,r);return this._forEachBlocksInRange(t,r,(function(t,e,r,i){n.aggregate(t.remove(r,i))})),n}},{key:"nearestInputPos",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ze,r=this._mapPosToBlock(t)||{index:0,offset:0},n=r.offset,i=r.index,o=this._blocks[i];if(!o)return t;var s=n;0!==s&&s<o.value.length&&(s=o.nearestInputPos(n,Xe(e)));var a=s===o.value.length,u=0===s;if(!u&&!a)return this._blockStartPos(i)+s;var l=a?i+1:i;if(e===ze){if(l>0){var c=l-1,h=this._blocks[c],d=h.nearestInputPos(0,ze);if(!h.value.length||d!==h.value.length)return this._blockStartPos(l)}for(var p=l,f=p;f<this._blocks.length;++f){var m=this._blocks[f],v=m.nearestInputPos(0,ze);if(!m.value.length||v!==m.value.length)return this._blockStartPos(f)+v}for(var y=l-1;y>=0;--y){var g=this._blocks[y],b=g.nearestInputPos(0,ze);if(!g.value.length||b!==g.value.length)return this._blockStartPos(y)+g.value.length}return t}if(e===Ye||e===Ze){for(var x,_=l;_<this._blocks.length;++_)if(this._blocks[_].value){x=_;break}if(null!=x){var k=this._blocks[x],E=k.nearestInputPos(0,Ke);if(0===E&&k.unmaskedValue.length)return this._blockStartPos(x)+E}for(var A,F=-1,w=l-1;w>=0;--w){var P=this._blocks[w],S=P.nearestInputPos(P.value.length,Ze);if(P.value&&0===S||(A=w),0!==S){if(S!==P.value.length)return this._blockStartPos(w)+S;F=w;break}}if(e===Ye)for(var O=F+1;O<=Math.min(l,this._blocks.length-1);++O){var C=this._blocks[O],V=C.nearestInputPos(0,ze),j=this._blockStartPos(O)+V;if(j>t)break;if(V!==C.value.length)return j}if(F>=0)return this._blockStartPos(F)+this._blocks[F].value.length;if(e===Ze||this.lazy&&!this.extractInput()&&!pr(this._blocks[l]))return 0;if(null!=A)return this._blockStartPos(A);for(var D=l;D<this._blocks.length;++D){var $=this._blocks[D],B=$.nearestInputPos(0,ze);if(!$.value.length||B!==$.value.length)return this._blockStartPos(D)+B}return 0}if(e===Ke||e===Je){for(var I,R,M=l;M<this._blocks.length;++M){var N=this._blocks[M],T=N.nearestInputPos(0,ze);if(T!==N.value.length){R=this._blockStartPos(M)+T,I=M;break}}if(null!=I&&null!=R){for(var L=I;L<this._blocks.length;++L){var U=this._blocks[L],H=U.nearestInputPos(0,Je);if(H!==U.value.length)return this._blockStartPos(L)+H}return e===Je?this.value.length:R}for(var G=Math.min(l,this._blocks.length-1);G>=0;--G){var q=this._blocks[G],W=q.nearestInputPos(q.value.length,Ye);if(0!==W){var z=this._blockStartPos(G)+W;if(z>=t)return z;break}}}return t}},{key:"maskedBlock",value:function(t){return this.maskedBlocks(t)[0]}},{key:"maskedBlocks",value:function(t){var e=this,r=this._maskedBlocks[t];return r?r.map((function(t){return e._blocks[t]})):[]}},{key:"state",get:function(){return Object.assign({},Ue(Re(e.prototype),"state",this),{_blocks:this._blocks.map((function(t){return t.state}))})},set:function(t){var r=t._blocks,n=Ne(t,["_blocks"]);this._blocks.forEach((function(t,e){return t.state=r[e]})),Ge(Re(e.prototype),"state",n,this,!0)}},{key:"isComplete",get:function(){return this._blocks.every((function(t){return t.isComplete}))}},{key:"unmaskedValue",get:function(){return this._blocks.reduce((function(t,e){return t+e.unmaskedValue}),"")},set:function(t){Ge(Re(e.prototype),"unmaskedValue",t,this,!0)}},{key:"value",get:function(){return this._blocks.reduce((function(t,e){return t+e.value}),"")},set:function(t){Ge(Re(e.prototype),"value",t,this,!0)}}]),e}(ir);function pr(t){if(!t)return!1;var e=t.value;return!e||t.nearestInputPos(0,ze)!==e.length}dr.DEFAULTS={lazy:!0,placeholderChar:"_"},dr.STOP_CHAR="`",dr.ESCAPE_CHAR="\\",dr.InputDefinition=ur,dr.FixedDefinition=lr,nr.MaskedPattern=dr;var fr=function(t){function e(){return De(this,e),Te(this,Re(e).apply(this,arguments))}return Ie(e,t),Be(e,[{key:"_update",value:function(t){t=Object.assign({to:this.to||0,from:this.from||0},t);var r=String(t.to).length;null!=t.maxLength&&(r=Math.max(r,t.maxLength)),t.maxLength=r;for(var n=String(t.from).padStart(r,"0"),i=String(t.to).padStart(r,"0"),o=0;o<i.length&&i[o]===n[o];)++o;t.mask=i.slice(0,o).replace(/0/g,"\\0")+"0".repeat(r-o),Ue(Re(e.prototype),"_update",this).call(this,t)}},{key:"boundaries",value:function(t){var e="",r="",n=qe(t.match(/^(\D*)(\d*)(\D*)/)||[],3),i=n[1],o=n[2];return o&&(e="0".repeat(i.length)+o,r="9".repeat(i.length)+o),[e=e.padEnd(this.maxLength,"0"),r=r.padEnd(this.maxLength,"9")]}},{key:"doPrepare",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t=Ue(Re(e.prototype),"doPrepare",this).call(this,t,r).replace(/\D/g,""),!this.autofix)return t;for(var n=String(this.from).padStart(this.maxLength,"0"),i=String(this.to).padStart(this.maxLength,"0"),o=this.value,s="",a=0;a<t.length;++a){var u=o+s+t[a],l=this.boundaries(u),c=qe(l,2),h=c[0],d=c[1];Number(d)<this.from?s+=n[u.length-1]:Number(h)>this.to?s+=i[u.length-1]:s+=t[a]}return s}},{key:"doValidate",value:function(){var t,r=arguments,n=this.value,i=n.search(/[^0]/);if(-1===i&&n.length<=this._matchFrom)return!0;for(var o=this.boundaries(n),s=qe(o,2),a=s[0],u=s[1],l=arguments.length,c=new Array(l),h=0;h<l;h++)c[h]=r[h];return this.from<=Number(u)&&Number(a)<=this.to&&(t=Ue(Re(e.prototype),"doValidate",this)).call.apply(t,[this].concat(c))}},{key:"_matchFrom",get:function(){return this.maxLength-String(this.from).length}},{key:"isComplete",get:function(){return Ue(Re(e.prototype),"isComplete",this)&&Boolean(this.value)}}]),e}(dr);nr.MaskedRange=fr;var mr=function(t){function e(t){return De(this,e),Te(this,Re(e).call(this,Object.assign({},e.DEFAULTS,{},t)))}return Ie(e,t),Be(e,[{key:"_update",value:function(t){t.mask===Date&&delete t.mask,t.pattern&&(t.mask=t.pattern);var r=t.blocks;t.blocks=Object.assign({},e.GET_DEFAULT_BLOCKS()),t.min&&(t.blocks.Y.from=t.min.getFullYear()),t.max&&(t.blocks.Y.to=t.max.getFullYear()),t.min&&t.max&&t.blocks.Y.from===t.blocks.Y.to&&(t.blocks.m.from=t.min.getMonth()+1,t.blocks.m.to=t.max.getMonth()+1,t.blocks.m.from===t.blocks.m.to&&(t.blocks.d.from=t.min.getDate(),t.blocks.d.to=t.max.getDate())),Object.assign(t.blocks,r),Object.keys(t.blocks).forEach((function(e){var r=t.blocks[e];"autofix"in r||(r.autofix=t.autofix)})),Ue(Re(e.prototype),"_update",this).call(this,t)}},{key:"doValidate",value:function(){for(var t,r=arguments,n=this.date,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=r[s];return(t=Ue(Re(e.prototype),"doValidate",this)).call.apply(t,[this].concat(o))&&(!this.isComplete||this.isDateExist(this.value)&&null!=n&&(null==this.min||this.min<=n)&&(null==this.max||n<=this.max))}},{key:"isDateExist",value:function(t){return this.format(this.parse(t,this),this).indexOf(t)>=0}},{key:"date",get:function(){return this.typedValue},set:function(t){this.typedValue=t}},{key:"typedValue",get:function(){return this.isComplete?Ue(Re(e.prototype),"typedValue",this):null},set:function(t){Ge(Re(e.prototype),"typedValue",t,this,!0)}}]),e}(dr);mr.DEFAULTS={pattern:"d{.}`m{.}`Y",format:function(t){return[String(t.getDate()).padStart(2,"0"),String(t.getMonth()+1).padStart(2,"0"),t.getFullYear()].join(".")},parse:function(t){var e=qe(t.split("."),3),r=e[0],n=e[1],i=e[2];return new Date(i,n-1,r)}},mr.GET_DEFAULT_BLOCKS=function(){return{d:{mask:fr,from:1,to:31,maxLength:2},m:{mask:fr,from:1,to:12,maxLength:2},Y:{mask:fr,from:1900,to:9999}}},nr.MaskedDate=mr;var vr=function(){function t(){De(this,t)}return Be(t,[{key:"select",value:function(t,e){if(null!=t&&null!=e&&(t!==this.selectionStart||e!==this.selectionEnd))try{this._unsafeSelect(t,e)}catch(t){}}},{key:"_unsafeSelect",value:function(t,e){}},{key:"bindEvents",value:function(t){}},{key:"unbindEvents",value:function(){}},{key:"selectionStart",get:function(){var t;try{t=this._unsafeSelectionStart}catch(t){}return null!=t?t:this.value.length}},{key:"selectionEnd",get:function(){var t;try{t=this._unsafeSelectionEnd}catch(t){}return null!=t?t:this.value.length}},{key:"isActive",get:function(){return!1}}]),t}();nr.MaskElement=vr;var yr=function(t){function e(t){var r;return De(this,e),(r=Te(this,Re(e).call(this))).input=t,r._handlers={},r}return Ie(e,t),Be(e,[{key:"_unsafeSelect",value:function(t,e){this.input.setSelectionRange(t,e)}},{key:"bindEvents",value:function(t){var r=this;Object.keys(t).forEach((function(n){return r._toggleEventHandler(e.EVENTS_MAP[n],t[n])}))}},{key:"unbindEvents",value:function(){var t=this;Object.keys(this._handlers).forEach((function(e){return t._toggleEventHandler(e)}))}},{key:"_toggleEventHandler",value:function(t,e){this._handlers[t]&&(this.input.removeEventListener(t,this._handlers[t]),delete this._handlers[t]),e&&(this.input.addEventListener(t,e),this._handlers[t]=e)}},{key:"rootElement",get:function(){return this.input.getRootNode?this.input.getRootNode():document}},{key:"isActive",get:function(){return this.input===this.rootElement.activeElement}},{key:"_unsafeSelectionStart",get:function(){return this.input.selectionStart}},{key:"_unsafeSelectionEnd",get:function(){return this.input.selectionEnd}},{key:"value",get:function(){return this.input.value},set:function(t){this.input.value=t}}]),e}(vr);yr.EVENTS_MAP={selectionChange:"keydown",input:"input",drop:"drop",click:"click",focus:"focus",commit:"blur"},nr.HTMLMaskElement=yr;var gr=function(t){function e(){return De(this,e),Te(this,Re(e).apply(this,arguments))}return Ie(e,t),Be(e,[{key:"_unsafeSelect",value:function(t,e){if(this.rootElement.createRange){var r=this.rootElement.createRange();r.setStart(this.input.firstChild||this.input,t),r.setEnd(this.input.lastChild||this.input,e);var n=this.rootElement,i=n.getSelection&&n.getSelection();i&&(i.removeAllRanges(),i.addRange(r))}}},{key:"_unsafeSelectionStart",get:function(){var t=this.rootElement,e=t.getSelection&&t.getSelection();return e&&e.anchorOffset}},{key:"_unsafeSelectionEnd",get:function(){var t=this.rootElement,e=t.getSelection&&t.getSelection();return e&&this._unsafeSelectionStart+String(e).length}},{key:"value",get:function(){return this.input.textContent},set:function(t){this.input.textContent=t}}]),e}(yr);nr.HTMLContenteditableMaskElement=gr;var br=function(){function t(e,r){De(this,t),this.el=e instanceof vr?e:e.isContentEditable&&"INPUT"!==e.tagName&&"TEXTAREA"!==e.tagName?new gr(e):new yr(e),this.masked=sr(r),this._listeners={},this._value="",this._unmaskedValue="",this._saveSelection=this._saveSelection.bind(this),this._onInput=this._onInput.bind(this),this._onChange=this._onChange.bind(this),this._onDrop=this._onDrop.bind(this),this._onFocus=this._onFocus.bind(this),this._onClick=this._onClick.bind(this),this.alignCursor=this.alignCursor.bind(this),this.alignCursorFriendly=this.alignCursorFriendly.bind(this),this._bindEvents(),this.updateValue(),this._onChange()}return Be(t,[{key:"maskEquals",value:function(t){return null==t||t===this.masked.mask||t===Date&&this.masked instanceof mr}},{key:"_bindEvents",value:function(){this.el.bindEvents({selectionChange:this._saveSelection,input:this._onInput,drop:this._onDrop,click:this._onClick,focus:this._onFocus,commit:this._onChange})}},{key:"_unbindEvents",value:function(){this.el&&this.el.unbindEvents()}},{key:"_fireEvent",value:function(t){for(var e=arguments,r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=e[i];var o=this._listeners[t];o&&o.forEach((function(t){return t.apply(void 0,n)}))}},{key:"_saveSelection",value:function(){this.value!==this.el.value&&console.warn("Element value was changed outside of mask. Syncronize mask using `mask.updateValue()` to work properly."),this._selection={start:this.selectionStart,end:this.cursorPos}}},{key:"updateValue",value:function(){this.masked.value=this.el.value,this._value=this.masked.value}},{key:"updateControl",value:function(){var t=this.masked.unmaskedValue,e=this.masked.value,r=this.unmaskedValue!==t||this.value!==e;this._unmaskedValue=t,this._value=e,this.el.value!==e&&(this.el.value=e),r&&this._fireChangeEvents()}},{key:"updateOptions",value:function(t){var e=t.mask,r=Ne(t,["mask"]),n=!this.maskEquals(e),i=!function t(e,r){if(r===e)return!0;var n,i=Array.isArray(r),o=Array.isArray(e);if(i&&o){if(r.length!=e.length)return!1;for(n=0;n<r.length;n++)if(!t(r[n],e[n]))return!1;return!0}if(i!=o)return!1;if(r&&e&&"object"===je(r)&&"object"===je(e)){var s=r instanceof Date,a=e instanceof Date;if(s&&a)return r.getTime()==e.getTime();if(s!=a)return!1;var u=r instanceof RegExp,l=e instanceof RegExp;if(u&&l)return r.toString()==e.toString();if(u!=l)return!1;var c=Object.keys(r);for(n=0;n<c.length;n++)if(!Object.prototype.hasOwnProperty.call(e,c[n]))return!1;for(n=0;n<c.length;n++)if(!t(e[c[n]],r[c[n]]))return!1;return!0}return!(!r||!e||"function"!=typeof r||"function"!=typeof e)&&r.toString()===e.toString()}(this.masked,r);n&&(this.mask=e),i&&this.masked.updateOptions(r),(n||i)&&this.updateControl()}},{key:"updateCursor",value:function(t){null!=t&&(this.cursorPos=t,this._delayUpdateCursor(t))}},{key:"_delayUpdateCursor",value:function(t){var e=this;this._abortUpdateCursor(),this._changingCursorPos=t,this._cursorChanging=setTimeout((function(){e.el&&(e.cursorPos=e._changingCursorPos,e._abortUpdateCursor())}),10)}},{key:"_fireChangeEvents",value:function(){this._fireEvent("accept",this._inputEvent),this.masked.isComplete&&this._fireEvent("complete",this._inputEvent)}},{key:"_abortUpdateCursor",value:function(){this._cursorChanging&&(clearTimeout(this._cursorChanging),delete this._cursorChanging)}},{key:"alignCursor",value:function(){this.cursorPos=this.masked.nearestInputPos(this.cursorPos,Ye)}},{key:"alignCursorFriendly",value:function(){this.selectionStart===this.cursorPos&&this.alignCursor()}},{key:"on",value:function(t,e){return this._listeners[t]||(this._listeners[t]=[]),this._listeners[t].push(e),this}},{key:"off",value:function(t,e){if(!this._listeners[t])return this;if(!e)return delete this._listeners[t],this;var r=this._listeners[t].indexOf(e);return r>=0&&this._listeners[t].splice(r,1),this}},{key:"_onInput",value:function(t){if(this._inputEvent=t,this._abortUpdateCursor(),!this._selection)return this.updateValue();var e=new tr(this.el.value,this.cursorPos,this.value,this._selection),r=this.masked.rawInputValue,n=this.masked.splice(e.startChangePos,e.removed.length,e.inserted,e.removeDirection).offset,i=r===this.masked.rawInputValue?e.removeDirection:ze,o=this.masked.nearestInputPos(e.startChangePos+n,i);this.updateControl(),this.updateCursor(o),delete this._inputEvent}},{key:"_onChange",value:function(){this.value!==this.el.value&&this.updateValue(),this.masked.doCommit(),this.updateControl(),this._saveSelection()}},{key:"_onDrop",value:function(t){t.preventDefault(),t.stopPropagation()}},{key:"_onFocus",value:function(t){this.alignCursorFriendly()}},{key:"_onClick",value:function(t){this.alignCursorFriendly()}},{key:"destroy",value:function(){this._unbindEvents(),this._listeners.length=0,delete this.el}},{key:"mask",get:function(){return this.masked.mask},set:function(t){if(!this.maskEquals(t))if(t instanceof nr.Masked||this.masked.constructor!==or(t)){var e=sr({mask:t});e.unmaskedValue=this.masked.unmaskedValue,this.masked=e}else this.masked.updateOptions({mask:t})}},{key:"value",get:function(){return this._value},set:function(t){this.masked.value=t,this.updateControl(),this.alignCursor()}},{key:"unmaskedValue",get:function(){return this._unmaskedValue},set:function(t){this.masked.unmaskedValue=t,this.updateControl(),this.alignCursor()}},{key:"typedValue",get:function(){return this.masked.typedValue},set:function(t){this.masked.typedValue=t,this.updateControl(),this.alignCursor()}},{key:"selectionStart",get:function(){return this._cursorChanging?this._changingCursorPos:this.el.selectionStart}},{key:"cursorPos",get:function(){return this._cursorChanging?this._changingCursorPos:this.el.selectionEnd},set:function(t){this.el&&this.el.isActive&&(this.el.select(t,t),this._saveSelection())}}]),t}();nr.InputMask=br;var xr=function(t){function e(){return De(this,e),Te(this,Re(e).apply(this,arguments))}return Ie(e,t),Be(e,[{key:"_update",value:function(t){t.enum&&(t.mask="*".repeat(t.enum[0].length)),Ue(Re(e.prototype),"_update",this).call(this,t)}},{key:"doValidate",value:function(){for(var t,r=arguments,n=this,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=r[s];return this.enum.some((function(t){return t.indexOf(n.unmaskedValue)>=0}))&&(t=Ue(Re(e.prototype),"doValidate",this)).call.apply(t,[this].concat(o))}}]),e}(dr);nr.MaskedEnum=xr;var _r=function(t){function e(t){return De(this,e),Te(this,Re(e).call(this,Object.assign({},e.DEFAULTS,{},t)))}return Ie(e,t),Be(e,[{key:"_update",value:function(t){Ue(Re(e.prototype),"_update",this).call(this,t),this._updateRegExps()}},{key:"_updateRegExps",value:function(){var t="^"+(this.allowNegative?"[+|\\-]?":""),e=(this.scale?"("+Qe(this.radix)+"\\d{0,"+this.scale+"})?":"")+"$";this._numberRegExpInput=new RegExp(t+"(0|([1-9]+\\d*))?"+e),this._numberRegExp=new RegExp(t+"\\d*"+e),this._mapToRadixRegExp=new RegExp("["+this.mapToRadix.map(Qe).join("")+"]","g"),this._thousandsSeparatorRegExp=new RegExp(Qe(this.thousandsSeparator),"g")}},{key:"_removeThousandsSeparators",value:function(t){return t.replace(this._thousandsSeparatorRegExp,"")}},{key:"_insertThousandsSeparators",value:function(t){var e=t.split(this.radix);return e[0]=e[0].replace(/\B(?=(\d{3})+(?!\d))/g,this.thousandsSeparator),e.join(this.radix)}},{key:"doPrepare",value:function(t){for(var r,n=arguments,i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=n[s];return(r=Ue(Re(e.prototype),"doPrepare",this)).call.apply(r,[this,this._removeThousandsSeparators(t.replace(this._mapToRadixRegExp,this.radix))].concat(o))}},{key:"_separatorsCount",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=0,n=0;n<t;++n)this._value.indexOf(this.thousandsSeparator,n)===n&&(++r,e&&(t+=this.thousandsSeparator.length));return r}},{key:"_separatorsCountFromSlice",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._value;return this._separatorsCount(this._removeThousandsSeparators(t).length,!0)}},{key:"extractInput",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length,n=arguments.length>2?arguments[2]:void 0,i=this._adjustRangeWithSeparators(t,r),o=qe(i,2);return t=o[0],r=o[1],this._removeThousandsSeparators(Ue(Re(e.prototype),"extractInput",this).call(this,t,r,n))}},{key:"_appendCharRaw",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.thousandsSeparator)return Ue(Re(e.prototype),"_appendCharRaw",this).call(this,t,r);var n=r.tail&&r._beforeTailState?r._beforeTailState._value:this._value,i=this._separatorsCountFromSlice(n);this._value=this._removeThousandsSeparators(this.value);var o=Ue(Re(e.prototype),"_appendCharRaw",this).call(this,t,r);this._value=this._insertThousandsSeparators(this._value);var s=r.tail&&r._beforeTailState?r._beforeTailState._value:this._value,a=this._separatorsCountFromSlice(s);return o.tailShift+=(a-i)*this.thousandsSeparator.length,o.skip=!o.rawInserted&&t===this.thousandsSeparator,o}},{key:"_findSeparatorAround",value:function(t){if(this.thousandsSeparator){var e=t-this.thousandsSeparator.length+1,r=this.value.indexOf(this.thousandsSeparator,e);if(r<=t)return r}return-1}},{key:"_adjustRangeWithSeparators",value:function(t,e){var r=this._findSeparatorAround(t);r>=0&&(t=r);var n=this._findSeparatorAround(e);return n>=0&&(e=n+this.thousandsSeparator.length),[t,e]}},{key:"remove",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length,r=this._adjustRangeWithSeparators(t,e),n=qe(r,2);t=n[0],e=n[1];var i=this.value.slice(0,t),o=this.value.slice(e),s=this._separatorsCount(i.length);this._value=this._insertThousandsSeparators(this._removeThousandsSeparators(i+o));var a=this._separatorsCountFromSlice(i);return new er({tailShift:(a-s)*this.thousandsSeparator.length})}},{key:"nearestInputPos",value:function(t,e){if(!this.thousandsSeparator)return t;switch(e){case ze:case Ye:case Ze:var r=this._findSeparatorAround(t-1);if(r>=0){var n=r+this.thousandsSeparator.length;if(t<n||this.value.length<=n||e===Ze)return r}break;case Ke:case Je:var i=this._findSeparatorAround(t);if(i>=0)return i+this.thousandsSeparator.length}return t}},{key:"doValidate",value:function(t){var r=(t.input?this._numberRegExpInput:this._numberRegExp).test(this._removeThousandsSeparators(this.value));if(r){var n=this.number;r=r&&!isNaN(n)&&(null==this.min||this.min>=0||this.min<=this.number)&&(null==this.max||this.max<=0||this.number<=this.max)}return r&&Ue(Re(e.prototype),"doValidate",this).call(this,t)}},{key:"doCommit",value:function(){if(this.value){var t=this.number,r=t;null!=this.min&&(r=Math.max(r,this.min)),null!=this.max&&(r=Math.min(r,this.max)),r!==t&&(this.unmaskedValue=String(r));var n=this.value;this.normalizeZeros&&(n=this._normalizeZeros(n)),this.padFractionalZeros&&(n=this._padFractionalZeros(n)),this._value=n}Ue(Re(e.prototype),"doCommit",this).call(this)}},{key:"_normalizeZeros",value:function(t){var e=this._removeThousandsSeparators(t).split(this.radix);return e[0]=e[0].replace(/^(\D*)(0*)(\d*)/,(function(t,e,r,n){return e+n})),t.length&&!/\d$/.test(e[0])&&(e[0]=e[0]+"0"),e.length>1&&(e[1]=e[1].replace(/0*$/,""),e[1].length||(e.length=1)),this._insertThousandsSeparators(e.join(this.radix))}},{key:"_padFractionalZeros",value:function(t){if(!t)return t;var e=t.split(this.radix);return e.length<2&&e.push(""),e[1]=e[1].padEnd(this.scale,"0"),e.join(this.radix)}},{key:"unmaskedValue",get:function(){return this._removeThousandsSeparators(this._normalizeZeros(this.value)).replace(this.radix,".")},set:function(t){Ge(Re(e.prototype),"unmaskedValue",t.replace(".",this.radix),this,!0)}},{key:"typedValue",get:function(){return Number(this.unmaskedValue)},set:function(t){Ge(Re(e.prototype),"unmaskedValue",String(t),this,!0)}},{key:"number",get:function(){return this.typedValue},set:function(t){this.typedValue=t}},{key:"allowNegative",get:function(){return this.signed||null!=this.min&&this.min<0||null!=this.max&&this.max<0}}]),e}(ir);_r.DEFAULTS={radix:",",thousandsSeparator:"",mapToRadix:["."],scale:2,signed:!1,normalizeZeros:!0,padFractionalZeros:!1},nr.MaskedNumber=_r;var kr=function(t){function e(){return De(this,e),Te(this,Re(e).apply(this,arguments))}return Ie(e,t),Be(e,[{key:"_update",value:function(t){t.mask&&(t.validate=t.mask),Ue(Re(e.prototype),"_update",this).call(this,t)}}]),e}(ir);nr.MaskedFunction=kr;var Er=function(t){function e(t){var r;return De(this,e),(r=Te(this,Re(e).call(this,Object.assign({},e.DEFAULTS,{},t)))).currentMask=null,r}return Ie(e,t),Be(e,[{key:"_update",value:function(t){Ue(Re(e.prototype),"_update",this).call(this,t),"mask"in t&&(this.compiledMasks=Array.isArray(t.mask)?t.mask.map((function(t){return sr(t)})):[])}},{key:"_appendCharRaw",value:function(){var t,e=this._applyDispatch.apply(this,arguments);this.currentMask&&e.aggregate((t=this.currentMask)._appendChar.apply(t,arguments));return e}},{key:"_applyDispatch",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.tail&&null!=e._beforeTailState?e._beforeTailState._value:this.value,n=this.rawInputValue,i=e.tail&&null!=e._beforeTailState?e._beforeTailState._rawInputValue:n,o=n.slice(i.length),s=this.currentMask,a=new er,u=s&&s.state;if(this.currentMask=this.doDispatch(t,Object.assign({},e)),this.currentMask)if(this.currentMask!==s){this.currentMask.reset();var l=this.currentMask.append(i,{raw:!0});a.tailShift=l.inserted.length-r.length,o&&(a.tailShift+=this.currentMask.append(o,{raw:!0,tail:!0}).tailShift)}else this.currentMask.state=u;return a}},{key:"_appendPlaceholder",value:function(){var t=this._applyDispatch.apply(this,arguments);return this.currentMask&&t.aggregate(this.currentMask._appendPlaceholder()),t}},{key:"doDispatch",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.dispatch(t,this,e)}},{key:"doValidate",value:function(){for(var t,r,n=arguments,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=n[s];return(t=Ue(Re(e.prototype),"doValidate",this)).call.apply(t,[this].concat(o))&&(!this.currentMask||(r=this.currentMask).doValidate.apply(r,o))}},{key:"reset",value:function(){this.currentMask&&this.currentMask.reset(),this.compiledMasks.forEach((function(t){return t.reset()}))}},{key:"remove",value:function(){var t,e=new er;this.currentMask&&e.aggregate((t=this.currentMask).remove.apply(t,arguments)).aggregate(this._applyDispatch());return e}},{key:"extractInput",value:function(){var t;return this.currentMask?(t=this.currentMask).extractInput.apply(t,arguments):""}},{key:"extractTail",value:function(){for(var t,r,n=arguments,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=n[s];return this.currentMask?(t=this.currentMask).extractTail.apply(t,o):(r=Ue(Re(e.prototype),"extractTail",this)).call.apply(r,[this].concat(o))}},{key:"doCommit",value:function(){this.currentMask&&this.currentMask.doCommit(),Ue(Re(e.prototype),"doCommit",this).call(this)}},{key:"nearestInputPos",value:function(){for(var t,r,n=arguments,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=n[s];return this.currentMask?(t=this.currentMask).nearestInputPos.apply(t,o):(r=Ue(Re(e.prototype),"nearestInputPos",this)).call.apply(r,[this].concat(o))}},{key:"value",get:function(){return this.currentMask?this.currentMask.value:""},set:function(t){Ge(Re(e.prototype),"value",t,this,!0)}},{key:"unmaskedValue",get:function(){return this.currentMask?this.currentMask.unmaskedValue:""},set:function(t){Ge(Re(e.prototype),"unmaskedValue",t,this,!0)}},{key:"typedValue",get:function(){return this.currentMask?this.currentMask.typedValue:""},set:function(t){var e=String(t);this.currentMask&&(this.currentMask.typedValue=t,e=this.currentMask.unmaskedValue),this.unmaskedValue=e}},{key:"isComplete",get:function(){return!!this.currentMask&&this.currentMask.isComplete}},{key:"state",get:function(){return Object.assign({},Ue(Re(e.prototype),"state",this),{_rawInputValue:this.rawInputValue,compiledMasks:this.compiledMasks.map((function(t){return t.state})),currentMaskRef:this.currentMask,currentMask:this.currentMask&&this.currentMask.state})},set:function(t){var r=t.compiledMasks,n=t.currentMaskRef,i=t.currentMask,o=Ne(t,["compiledMasks","currentMaskRef","currentMask"]);this.compiledMasks.forEach((function(t,e){return t.state=r[e]})),null!=n&&(this.currentMask=n,this.currentMask.state=i),Ge(Re(e.prototype),"state",o,this,!0)}},{key:"overwrite",get:function(){return this.currentMask?this.currentMask.overwrite:Ue(Re(e.prototype),"overwrite",this)},set:function(t){console.warn('"overwrite" option is not available in dynamic mask, use this option in siblings')}}]),e}(ir);Er.DEFAULTS={dispatch:function(t,e,r){if(e.compiledMasks.length){var n=e.rawInputValue,i=e.compiledMasks.map((function(e,i){return e.reset(),e.append(n,{raw:!0}),e.append(t,r),{weight:e.rawInputValue.length,index:i}}));return i.sort((function(t,e){return e.weight-t.weight})),e.compiledMasks[i[0].index]}}},nr.MaskedDynamic=Er;var Ar={MASKED:"value",UNMASKED:"unmaskedValue",TYPED:"typedValue"};function Fr(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ar.MASKED,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ar.MASKED,n=sr(t);return function(t){return n.runIsolated((function(n){return n[e]=t,n[r]}))}}nr.PIPE_TYPE=Ar,nr.createPipe=Fr,nr.pipe=function(t){for(var e=arguments,r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=e[i];return Fr.apply(void 0,n)(t)};try{globalThis.IMask=nr}catch(c){}var wr,Pr={hooks:{model:[{handler:function(t,e){var r=e.context,n="vfe-mask"in r.attributes||"vfeMask"in r.attributes;if("text"===r.classification&&n){var i=r.attributes["vfe-mask"]||r.attributes.vfeMask,o="object"==typeof i&&i.mask?i:{mask:i};return nr.createMask(o).resolve(t)}return t}}]}},Sr={hooks:{model:[{handler:function(t,e){var r=e.context,n="string"==typeof r.attributes.vfeNumber||r.attributes.vfeNumber||"string"==typeof r.attributes["vfe-number"]||r.attributes["vfe-number"];return"number"===r.type&&"string"==typeof t&&n?+t:t}}]}},Or=function(t,e){return{classification:t,component:"FormulateInput"+(e||t[0].toUpperCase()+t.substr(1))}},Cr=Object.assign({},["text","email","number","color","date","hidden","month","password","search","tel","time","url","week","datetime-local"].reduce((function(t,e){var r;return Object.assign({},t,((r={})[e]=Or("text"),r))}),{}),{range:Or("slider"),textarea:Or("textarea","TextArea"),checkbox:Or("box"),radio:Or("box"),submit:Or("button"),button:Or("button"),select:Or("select"),file:Or("file"),image:Or("file"),group:Or("group")}),Vr={accepted:function(t){var e=t.value;return Promise.resolve(["yes","on","1",1,!0,"true"].includes(e))},after:function(t,e){var r=t.value;void 0===e&&(e=!1);var n=Date.parse(e||new Date),i=Date.parse(r);return Promise.resolve(!isNaN(i)&&i>n)},alpha:function(t,e){var r=t.value;void 0===e&&(e="default");var n={default:/^[a-zA-ZÀ-ÖØ-öø-ÿĄąĆćĘęŁłŃńŚśŹźŻż]+$/,latin:/^[a-zA-Z]+$/},i=n.hasOwnProperty(e)?e:"default";return Promise.resolve(n[i].test(r))},alphanumeric:function(t,e){var r=t.value;void 0===e&&(e="default");var n={default:/^[a-zA-Z0-9À-ÖØ-öø-ÿĄąĆćĘęŁłŃńŚśŹźŻż]+$/,latin:/^[a-zA-Z0-9]+$/},i=n.hasOwnProperty(e)?e:"default";return Promise.resolve(n[i].test(r))},before:function(t,e){var r=t.value;void 0===e&&(e=!1);var n=Date.parse(e||new Date),i=Date.parse(r);return Promise.resolve(!isNaN(i)&&i<n)},between:function(t,e,r,n){var i=t.value;return void 0===e&&(e=0),void 0===r&&(r=10),Promise.resolve(null!==e&&null!==r&&!isNaN(e)&&!isNaN(r)&&(!isNaN(i)&&"length"!==n||"value"===n?(i=Number(i),e=Number(e),r=Number(r),i>e&&i<r):("string"==typeof i||"length"===n)&&(i=isNaN(i)?i:i.toString()).length>e&&i.length<r))},confirm:function(t,e){var r,n,i=t.value,o=t.getFormValues,s=t.name;return Promise.resolve((r=o(),(n=e)||(n=/_confirm$/.test(s)?s.substr(0,s.length-8):s+"_confirm"),r[n]===i))},date:function(t,e){var r=t.value;return void 0===e&&(e=!1),Promise.resolve(e&&"string"==typeof e?function(t){var e="^"+t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")+"$",r={MM:"(0[1-9]|1[012])",M:"([1-9]|1[012])",DD:"([012][0-9]|3[01])",D:"([012]?[1-9]|3[01])",YYYY:"\\d{4}",YY:"\\d{2}"};return new RegExp(Object.keys(r).reduce((function(t,e){return t.replace(e,r[e])}),e))}(e).test(r):!isNaN(Date.parse(r)))},email:function(t){var e=t.value;return Promise.resolve(/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i.test(e))},endsWith:function(t){for(var e=t.value,r=[],n=arguments.length-1;n-- >0;)r[n]=arguments[n+1];return Promise.resolve("string"==typeof e&&r.length?void 0!==r.find((function(t){return e.endsWith(t)})):"string"==typeof e&&0===r.length)},in:function(t){for(var e=t.value,r=[],n=arguments.length-1;n-- >0;)r[n]=arguments[n+1];return Promise.resolve(void 0!==r.find((function(t){return"object"==typeof t?ye(t,e):t===e})))},matches:function(t){for(var e=t.value,r=[],n=arguments.length-1;n-- >0;)r[n]=arguments[n+1];return Promise.resolve(!!r.find((function(t){return"string"==typeof t&&"/"===t.substr(0,1)&&"/"===t.substr(-1)&&(t=new RegExp(t.substr(1,t.length-2))),t instanceof RegExp?t.test(e):t===e})))},mime:function(t){for(var e=t.value,r=[],n=arguments.length-1;n-- >0;)r[n]=arguments[n+1];return Promise.resolve(function(){if(e instanceof me)for(var t=e.getFiles(),n=0;n<t.length;n++){var i=t[n].file;if(!r.includes(i.type))return!1}return!0}())},min:function(t,e,r){var n=t.value;return void 0===e&&(e=1),Promise.resolve(Array.isArray(n)?(e=isNaN(e)?e:Number(e),n.length>=e):!isNaN(n)&&"length"!==r||"value"===r?(n=isNaN(n)?n:Number(n))>=e:("string"==typeof n||"length"===r)&&(n=isNaN(n)?n:n.toString()).length>=e)},max:function(t,e,r){var n=t.value;return void 0===e&&(e=10),Promise.resolve(Array.isArray(n)?(e=isNaN(e)?e:Number(e),n.length<=e):!isNaN(n)&&"length"!==r||"value"===r?(n=isNaN(n)?n:Number(n))<=e:("string"==typeof n||"length"===r)&&(n=isNaN(n)?n:n.toString()).length<=e)},not:function(t){for(var e=t.value,r=[],n=arguments.length-1;n-- >0;)r[n]=arguments[n+1];return Promise.resolve(void 0===r.find((function(t){return"object"==typeof t?ye(t,e):t===e})))},number:function(t){var e=t.value;return Promise.resolve(!isNaN(e))},required:function(t,e){var r=t.value;return void 0===e&&(e=!0),Promise.resolve(!(e&&!["no","false"].includes(e))||(Array.isArray(r)?!!r.length:r instanceof me?r.getFiles().length>0:"string"==typeof r?!!r:"object"!=typeof r||!!r&&!!Object.keys(r).length))},startsWith:function(t){for(var e=t.value,r=[],n=arguments.length-1;n-- >0;)r[n]=arguments[n+1];return Promise.resolve("string"==typeof e&&r.length?void 0!==r.find((function(t){return e.startsWith(t)})):"string"==typeof e&&0===r.length)},url:function(t){var r=t.value;return Promise.resolve(e(r))},bail:function(){return Promise.resolve(!0)},optional:function(t){var e=t.value;return Promise.resolve(!we(e))}},jr="image/",Dr={csv:"text/csv",gif:jr+"gif",jpg:jr+"jpeg",jpeg:jr+"jpeg",png:jr+"png",pdf:"application/pdf",svg:jr+"svg+xml"},$r=["outer","wrapper","label","element","input","help","errors","error","decorator","rangeValue","uploadArea","uploadAreaMask","files","file","fileName","fileRemove","fileProgress","fileUploadError","fileImagePreview","fileProgressInner","grouping","groupRepeatable","groupRepeatableRemove","groupAddMore"],Br={hasErrors:function(t){return t.hasErrors},hasValue:function(t){return t.hasValue},isValid:function(t){return t.isValid}},Ir=function(t,e,r){var n=[];switch(e){case"label":n.push(t+"--"+r.labelPosition);break;case"element":var i="group"===r.classification?"group":r.type;n.push(t+"--"+i),"group"===i&&n.push("formulate-input-group");break;case"help":n.push(t+"--"+r.helpPosition)}return n},Rr=(wr=[""].concat(Object.keys(Br).map((function(t){return be(t)}))),$r.reduce((function(t,e){return t.concat(wr.reduce((function(t,r){return t.push(""+e+r+"Class"),t}),[]))}),[]));function Mr(t,e,r){switch(typeof e){case"string":return e;case"function":return e(r,xe(t));case"object":if(Array.isArray(e))return xe(t).concat(e);default:return t}}function Nr(t){return $r.reduce((function(e,r){var n;return Object.assign(e,((n={})[r]=function(t,e){var r=t.replace(/[A-Z]/g,(function(t){return"-"+t.toLowerCase()})),n="formulate"+("file"===r.substr(0,4)?"":"-input")+(["decorator","range-value"].includes(r)?"-element":"")+("outer"!==r?"-"+r:"");return"input"===r?[]:[n].concat(Ir(n,t,e))}(r,t),n))}),{})}function Tr(t,e,r,n){return new Promise((function(r,i){var o=(n.fauxUploaderDuration||2e3)*(.5+Math.random()),s=performance.now(),a=function(){return setTimeout((function(){var n=performance.now()-s,i=Math.min(100,Math.round(n/o*100));if(e(i),i>=100)return r({url:"http://via.placeholder.com/350x150.png",name:t.name});a()}),20)};a()}))}function Lr(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&-1===e.indexOf(n)&&(r[n]=t[n]);return r}var Ur={inheritAttrs:!1,functional:!0,render:function(t,e){for(var r=e.props,n=e.data,i=e.parent,o=e.children,s=i,a=(r.name,r.forceWrap),u=r.context,l=Lr(r,["name","forceWrap","context"]);s&&"FormulateInput"!==s.$options.name;)s=s.$parent;if(!s)return null;if(s.$scopedSlots&&s.$scopedSlots[r.name])return s.$scopedSlots[r.name](Object.assign({},u,l));if(Array.isArray(o)&&(o.length>1||a&&o.length>0)){var c=n.attrs,h=(c.name,c.context,Lr(c,["name","context"]));return t("div",Object.assign({},n,{attrs:h}),o)}return Array.isArray(o)&&1===o.length?o[0]:null}};function Hr(t,e){if(t&&"object"==typeof t&&!Array.isArray(t)){var r=t.children;void 0===r&&(r=null);var n=t.component;void 0===n&&(n="FormulateInput");var i=t.depth;void 0===i&&(i=1);var o=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&-1===e.indexOf(n)&&(r[n]=t[n]);return r}(t,["children","component","depth"]),s="FormulateInput"===n?o.type||"text":"",a=o.name||s||"el",u=o.id||a+"-"+i+"-"+e,l=Array.isArray(r)?r.map((function(t){return Object.assign(t,{depth:i+1})})):r;return Object.assign({key:u,depth:i,attrs:o,component:n},l?{children:l}:{})}return null}var Gr={functional:!0,render:function(t,e){return function t(e,r){return Array.isArray(r)?r.map((function(r){var n=Hr(r);return e(n.component,{attrs:n.attrs},n.children?t(e,n.children):null)})):r}(t,e.props.schema)}};function qr(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&-1===e.indexOf(n)&&(r[n]=t[n]);return r}var Wr=function(t){this.registry=new Map,this.ctx=t};function zr(t){return new Wr(t).dataProps()}function Yr(){return{hasInitialValue:function(){return this.formulateValue&&"object"==typeof this.formulateValue||this.values&&"object"==typeof this.values||this.isGrouping&&"object"==typeof this.context.model[this.index]},isVmodeled:function(){return!!(this.$options.propsData.hasOwnProperty("formulateValue")&&this._events&&Array.isArray(this._events.input)&&this._events.input.length)},initialValues:function(){return Ae(this.$options.propsData,"formulateValue")&&"object"==typeof this.formulateValue?Object.assign({},this.formulateValue):Ae(this.$options.propsData,"values")&&"object"==typeof this.values?Object.assign({},this.values):this.isGrouping&&"object"==typeof this.context.model[this.index]?this.context.model[this.index]:{}}}}function Zr(t){void 0===t&&(t=[]);var e={applyInitialValues:function(){this.hasInitialValue&&(this.proxy=this.initialValues)},setFieldValue:function(t,e){var r;if(void 0===e){var n=this.proxy,i=(n[t],qr(n,[String(t)]));this.proxy=i}else Object.assign(this.proxy,((r={})[t]=e,r));this.$emit("input",Object.assign({},this.proxy))},valueDeps:function(t){var e=this;return Object.keys(this.proxy).reduce((function(r,n){return Object.defineProperty(r,n,{enumerable:!0,get:function(){var r=e.registry.get(n);return e.deps.set(t,e.deps.get(t)||new Set),r&&(e.deps.set(r,e.deps.get(r)||new Set),e.deps.get(r).add(t.name)),e.deps.get(t).add(n),e.proxy[n]}})}),Object.create(null))},validateDeps:function(t){var e=this;this.deps.has(t)&&this.deps.get(t).forEach((function(t){return e.registry.has(t)&&e.registry.get(t).performValidation()}))},hasValidationErrors:function(){return Promise.all(this.registry.reduce((function(t,e,r){return t.push(e.performValidation()&&e.getValidationErrors()),t}),[])).then((function(t){return t.some((function(t){return t.hasErrors}))}))},showErrors:function(){this.childrenShouldShowErrors=!0,this.registry.map((function(t){t.formShouldShowErrors=!0}))},hideErrors:function(){this.childrenShouldShowErrors=!1,this.registry.map((function(t){t.formShouldShowErrors=!1,t.behavioralErrorVisibility=!1}))},setValues:function(t){var e=this;Array.from(new Set(Object.keys(t).concat(Object.keys(this.proxy)))).forEach((function(r){ye(t[r],e.proxy[r])||(e.setFieldValue(r,t[r]),e.registry.has(r)&&!ye(t[r],e.registry.get(r).proxy)&&(e.registry.get(r).context.model=t[r]))}))}};return Object.keys(e).reduce((function(r,n){var i;return t.includes(n)?r:Object.assign({},r,((i={})[n]=e[n],i))}),{})}function Kr(t,e){void 0===e&&(e=[]);var r={formulateSetter:t.setFieldValue,formulateRegister:t.register,formulateDeregister:t.deregister,getFormValues:t.valueDeps,validateDependents:t.validateDeps};return Object.keys(r).filter((function(t){return!e.includes(t)})).reduce((function(t,e){var n;return Object.assign(t,((n={})[e]=r[e],n))}),{})}Wr.prototype.add=function(t,e){return this.registry.set(t,e),this},Wr.prototype.remove=function(t){this.ctx.deps.delete(this.registry.get(t)),this.ctx.deps.forEach((function(e){return e.delete(t)})),this.registry.delete(t);var e=this.ctx.proxy,r=(e[t],qr(e,[String(t)]));return this.ctx.proxy=r,this},Wr.prototype.has=function(t){return this.registry.has(t)},Wr.prototype.get=function(t){return this.registry.get(t)},Wr.prototype.map=function(t){var e={};return this.registry.forEach((function(r,n){var i;return Object.assign(e,((i={})[n]=t(r,n),i))})),e},Wr.prototype.keys=function(){return Array.from(this.registry.keys())},Wr.prototype.register=function(t,e){if(this.registry.has(t))return!1;this.registry.set(t,e);var r=Ae(e.$options.propsData,"formulateValue"),n=Ae(e.$options.propsData,"value");r||!this.ctx.hasInitialValue||we(this.ctx.initialValues[t])?!r&&!n||ye(e.proxy,this.ctx.initialValues[t])||this.ctx.setFieldValue(t,e.proxy):e.context.model=this.ctx.initialValues[t],this.childrenShouldShowErrors&&(e.formShouldShowErrors=!0)},Wr.prototype.reduce=function(t,e){return this.registry.forEach((function(r,n){e=t(e,r,n)})),e},Wr.prototype.dataProps=function(){var t=this;return{proxy:{},registry:this,register:this.register.bind(this),deregister:function(e){return t.remove(e)},childrenShouldShowErrors:!1,deps:new Map}};var Jr=function(t){this.form=t};Jr.prototype.hasValidationErrors=function(){return this.form.hasValidationErrors()},Jr.prototype.values=function(){var t=this;return new Promise((function(e,r){var n=[],i=function t(e){if("object"!=typeof e)return e;var r=Array.isArray(e)?[]:{};for(var n in e)e[n]instanceof me||Ee(e[n])?r[n]=e[n]:r[n]=t(e[n]);return r}(t.form.proxy),o=function(e){"object"==typeof t.form.proxy[e]&&t.form.proxy[e]instanceof me&&n.push(t.form.proxy[e].upload().then((function(t){var r;return Object.assign(i,((r={})[e]=t,r))})))};for(var s in i)o(s);Promise.all(n).then((function(){return e(i)})).catch((function(t){return r(t)}))}))};var Xr={provide:function(){return Object.assign({},Kr(this),{observeErrors:this.addErrorObserver,removeErrorObserver:this.removeErrorObserver,formulateFieldValidation:this.formulateFieldValidation})},name:"FormulateForm",model:{prop:"formulateValue",event:"input"},props:{name:{type:[String,Boolean],default:!1},formulateValue:{type:Object,default:function(){return{}}},values:{type:[Object,Boolean],default:!1},errors:{type:[Object,Boolean],default:!1},formErrors:{type:Array,default:function(){return[]}},schema:{type:[Array,Boolean],default:!1}},data:function(){return Object.assign({},zr(this),{formShouldShowErrors:!1,errorObservers:[],namedErrors:[],namedFieldErrors:{}})},computed:Object.assign({},Yr(),{formContext:function(){return{errors:this.mergedFormErrors}},classes:function(){var t={"formulate-form":!0};return this.name&&(t["formulate-form--"+this.name]=!0),t},mergedFormErrors:function(){return this.formErrors.concat(this.namedErrors)},mergedFieldErrors:function(){var t={};if(this.errors)for(var e in this.errors)t[e]=xe(this.errors[e]);for(var r in this.namedFieldErrors)t[r]=xe(this.namedFieldErrors[r]);return t},hasFormErrorObservers:function(){return!!this.errorObservers.filter((function(t){return"form"===t.type})).length}}),watch:{formulateValue:{handler:function(t){this.isVmodeled&&t&&"object"==typeof t&&this.setValues(t)},deep:!0},mergedFormErrors:function(t){this.errorObservers.filter((function(t){return"form"===t.type})).forEach((function(e){return e.callback(t)}))},mergedFieldErrors:{handler:function(t){this.errorObservers.filter((function(t){return"input"===t.type})).forEach((function(e){return e.callback(t[e.field]||[])}))},immediate:!0}},created:function(){this.$formulate.register(this),this.applyInitialValues()},destroyed:function(){this.$formulate.deregister(this)},methods:Object.assign({},Zr(),{applyErrors:function(t){var e=t.formErrors,r=t.inputErrors;this.namedErrors=e,this.namedFieldErrors=r},addErrorObserver:function(t){this.errorObservers.find((function(e){return t.callback===e.callback}))||(this.errorObservers.push(t),"form"===t.type?t.callback(this.mergedFormErrors):Ae(this.mergedFieldErrors,t.field)&&t.callback(this.mergedFieldErrors[t.field]))},removeErrorObserver:function(t){this.errorObservers=this.errorObservers.filter((function(e){return e.callback!==t}))},registerErrorComponent:function(t){this.errorComponents.includes(t)||this.errorComponents.push(t)},formSubmitted:function(){var t=this;this.showErrors();var e=new Jr(this);return this.$emit("submit-raw",e),e.hasValidationErrors().then((function(t){return t?void 0:e.values()})).then((function(e){if(void 0!==e)return t.$emit("submit",e),e}))},formulateFieldValidation:function(t){this.$emit("validation",t)}})},Qr=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("form",{class:t.classes,on:{submit:function(e){return e.preventDefault(),t.formSubmitted(e)}}},[t.schema?r("FormulateSchema",{attrs:{schema:t.schema}}):t._e(),t._v(" "),t.hasFormErrorObservers?t._e():r("FormulateErrors",{attrs:{context:t.formContext}}),t._v(" "),t._t("default")],2)};Qr._withStripped=!0;var tn=ue({render:Qr,staticRenderFns:[]},void 0,Xr,void 0,!1,void 0,!1,void 0,void 0,void 0);var en={context:function(){return sn.call(this,Object.assign({},{addLabel:this.logicalAddLabel,attributes:this.elementAttributes,blurHandler:on.bind(this),classification:this.classification,component:this.component,disableErrors:this.disableErrors,errors:this.explicitErrors,formShouldShowErrors:this.formShouldShowErrors,getValidationErrors:this.getValidationErrors.bind(this),hasGivenName:this.hasGivenName,hasValue:this.hasValue,hasLabel:this.label&&"button"!==this.classification,hasValidationErrors:this.hasValidationErrors.bind(this),help:this.help,helpPosition:this.logicalHelpPosition,id:this.id||this.defaultId,isValid:this.isValid,imageBehavior:this.imageBehavior,label:this.label,labelPosition:this.logicalLabelPosition,limit:this.limit===1/0?this.limit:parseInt(this.limit,10),name:this.nameOrFallback,minimum:parseInt(this.minimum,10),performValidation:this.performValidation.bind(this),pseudoProps:this.pseudoProps,preventWindowDrops:this.preventWindowDrops,repeatable:this.repeatable,rootEmit:this.$emit.bind(this),setErrors:this.setErrors.bind(this),showValidationErrors:this.showValidationErrors,slotComponents:this.slotComponents,slotProps:this.slotProps,type:this.type,uploadBehavior:this.uploadBehavior,uploadUrl:this.mergedUploadUrl,uploader:this.uploader||this.$formulate.getUploader(),validationErrors:this.validationErrors,value:this.value,visibleValidationErrors:this.visibleValidationErrors,isSubField:this.isSubField,classes:this.classes},this.typeContext))},nameOrFallback:function(){if(!0===this.name&&"button"!==this.classification){var t=this.id||this.elementAttributes.id.replace(/[^0-9]/g,"");return this.type+"_"+t}if(!1===this.name||"button"===this.classification&&!0===this.name)return!1;return this.name},hasGivenName:function(){return"boolean"!=typeof this.name},typeContext:function(){var t=this;switch(this.classification){case"select":return{options:nn.call(this,this.options),optionGroups:!!this.optionGroups&&ve(this.optionGroups,(function(e,r){return nn.call(t,r)})),placeholder:this.$attrs.placeholder||!1};case"slider":return{showValue:!!this.showValue};default:return this.options?{options:nn.call(this,this.options)}:{}}},elementAttributes:function(){var t=Object.assign({},this.filteredAttributes);this.id?t.id=this.id:t.id=this.defaultId;this.hasGivenName&&(t.name=this.name);this.help&&(t["aria-describedby"]=t.id+"-help");!this.classes.input||Array.isArray(this.classes.input)&&!this.classes.input.length||(t.class=this.classes.input);return t},logicalLabelPosition:function(){if(this.labelPosition)return this.labelPosition;switch(this.classification){case"box":return"after";default:return"before"}},logicalHelpPosition:function(){if(this.helpPosition)return this.helpPosition;switch(this.classification){case"group":return"before";default:return"after"}},mergedUploadUrl:function(){return this.uploadUrl||this.$formulate.getUploadUrl()},hasValue:function(){var t=this,e=this.proxy;if("box"===this.classification&&this.isGrouped)return Array.isArray(e)?e.some((function(e){return e===t.value})):this.value===e;return!we(e)},visibleValidationErrors:function(){return this.showValidationErrors&&this.validationErrors.length?this.validationErrors:[]},slotComponents:function(){var t=this.$formulate.slotComponent.bind(this.$formulate);return{label:t(this.type,"label"),help:t(this.type,"help"),errors:t(this.type,"errors"),repeatable:t(this.type,"repeatable"),addMore:t(this.type,"addMore"),remove:t(this.type,"remove")}},logicalAddLabel:function(){if("boolean"==typeof this.addLabel)return"+ "+(this.label||this.name||"Add");return this.addLabel},classes:function(){return this.$formulate.classes(Object.assign({},this.$props,this.pseudoProps,{classification:this.classification,hasErrors:this.hasVisibleErrors,hasValue:this.hasValue,helpPosition:this.logicalHelpPosition,isValid:this.isValid,labelPosition:this.logicalLabelPosition,type:this.type,value:this.proxy}))},showValidationErrors:function(){if(this.showErrors||this.formShouldShowErrors)return!0;if("file"===this.classification&&"live"===this.uploadBehavior&&an.call(this))return!0;return this.behavioralErrorVisibility},slotProps:function(){var t=this.$formulate.slotProps.bind(this.$formulate);return{label:t(this.type,"label",this.typeProps),help:t(this.type,"help",this.typeProps),errors:t(this.type,"errors",this.typeProps),repeatable:t(this.type,"repeatable",this.typeProps),addMore:t(this.type,"addMore",this.typeProps),remove:t(this.type,"remove",this.typeProps)}},pseudoProps:function(){return rn(this.localAttributes,Rr)},isValid:function(){return!this.hasErrors},isVmodeled:function(){return!!(this.$options.propsData.hasOwnProperty("formulateValue")&&this._events&&Array.isArray(this._events.input)&&this._events.input.length)},mergedValidationName:function(){if(this.validationName)return this.validationName;if("string"==typeof this.name)return this.name;if(this.label)return this.label;return this.type},explicitErrors:function(){return xe(this.errors).concat(this.localErrors).concat(xe(this.error))},allErrors:function(){return this.explicitErrors.concat(xe(this.validationErrors))},hasVisibleErrors:function(){return Array.isArray(this.validationErrors)&&this.validationErrors.length&&this.showValidationErrors||!!this.explicitErrors.length},hasErrors:function(){return!!this.allErrors.length},filteredAttributes:function(){var t=this,e=Object.keys(this.pseudoProps).concat(Object.keys(this.typeProps));return Object.keys(this.localAttributes).reduce((function(r,n){return e.includes(ge(n))||(r[n]=t.localAttributes[n]),r}),{})},typeProps:function(){return rn(this.localAttributes,this.$formulate.typeProps(this.type))},listeners:function(){var t=this.$listeners;t.input;return function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&-1===e.indexOf(n)&&(r[n]=t[n]);return r}(t,["input"])}};function rn(t,e){return Object.keys(t).reduce((function(r,n){var i=ge(n);return e.includes(i)&&(r[i]=t[n]),r}),{})}function nn(t){if(!Array.isArray(t)&&t&&"object"==typeof t){var e=[];for(var r in t)e.push({value:r,label:t[r],id:this.elementAttributes.id+"_"+r});return e}return t}function on(){"blur"===this.errorBehavior&&(this.behavioralErrorVisibility=!0)}function sn(t){return Object.defineProperty(t,"model",{get:an.bind(this),set:un.bind(this)})}function an(){var t=this.isVmodeled?"formulateValue":"proxy";return"checkbox"===this.type&&!Array.isArray(this[t])&&this.options?[]:this[t]||0===this[t]?this[t]:""}function un(t){var e=!1;ye(t,this.proxy)||(this.proxy=t,e=!0),this.context.name&&"function"==typeof this.formulateSetter&&this.formulateSetter(this.context.name,t),e&&this.$emit("input",t)}var ln={name:"FormulateInput",inheritAttrs:!1,provide:function(){return{formulateRegisterRule:this.registerRule,formulateRemoveRule:this.removeRule}},inject:{formulateSetter:{default:void 0},formulateFieldValidation:{default:function(){return function(){return{}}}},formulateRegister:{default:void 0},formulateDeregister:{default:void 0},getFormValues:{default:function(){return function(){return{}}}},validateDependents:{default:function(){return function(){}}},observeErrors:{default:void 0},removeErrorObserver:{default:void 0},isSubField:{default:function(){return function(){return!1}}}},model:{prop:"formulateValue",event:"input"},props:{type:{type:String,default:"text"},name:{type:[String,Boolean],default:!0},formulateValue:{default:""},value:{default:!1},options:{type:[Object,Array,Boolean],default:!1},optionGroups:{type:[Object,Boolean],default:!1},id:{type:[String,Boolean,Number],default:!1},label:{type:[String,Boolean],default:!1},labelPosition:{type:[String,Boolean],default:!1},limit:{type:[String,Number],default:1/0,validator:function(t){return 1/0}},minimum:{type:[String,Number],default:0,validator:function(t){return parseInt(t,10)==t}},help:{type:[String,Boolean],default:!1},helpPosition:{type:[String,Boolean],default:!1},isGrouped:{type:Boolean,default:!1},errors:{type:[String,Array,Boolean],default:!1},repeatable:{type:Boolean,default:!1},validation:{type:[String,Boolean,Array],default:!1},validationName:{type:[String,Boolean],default:!1},error:{type:[String,Boolean],default:!1},errorBehavior:{type:String,default:"blur",validator:function(t){return["blur","live","submit"].includes(t)}},showErrors:{type:Boolean,default:!1},imageBehavior:{type:String,default:"preview"},uploadUrl:{type:[String,Boolean],default:!1},uploader:{type:[Function,Object,Boolean],default:!1},uploadBehavior:{type:String,default:"live"},preventWindowDrops:{type:Boolean,default:!0},showValue:{type:[String,Boolean],default:!1},validationMessages:{type:Object,default:function(){return{}}},validationRules:{type:Object,default:function(){return{}}},checked:{type:[String,Boolean],default:!1},disableErrors:{type:Boolean,default:!1},addLabel:{type:[Boolean,String],default:!1}},data:function(){return{defaultId:this.$formulate.nextId(this),localAttributes:{},localErrors:[],proxy:this.getInitialValue(),behavioralErrorVisibility:"live"===this.errorBehavior,formShouldShowErrors:!1,validationErrors:[],pendingValidation:Promise.resolve(),ruleRegistry:[],messageRegistry:{}}},computed:Object.assign({},en,{classification:function(){var t=this.$formulate.classify(this.type);return"box"===t&&this.options?"group":t},component:function(){return"group"===this.classification?"FormulateInputGroup":this.$formulate.component(this.type)},parsedValidationRules:function(){var t=this,e={};return Object.keys(this.validationRules).forEach((function(r){e[ge(r)]=t.validationRules[r]})),e},messages:function(){var t=this,e={};return Object.keys(this.validationMessages).forEach((function(r){e[ge(r)]=t.validationMessages[r]})),Object.keys(this.messageRegistry).forEach((function(r){e[ge(r)]=t.messageRegistry[r]})),e}}),watch:{$attrs:{handler:function(t){this.updateLocalAttributes(t)},deep:!0},proxy:function(t,e){this.performValidation(),this.isVmodeled||ye(t,e)||(this.context.model=t),this.validateDependents(this)},formulateValue:function(t,e){this.isVmodeled&&!ye(t,e)&&(this.context.model=t)},showValidationErrors:{handler:function(t){this.$emit("error-visibility",t)},immediate:!0}},created:function(){this.applyInitialValue(),this.formulateRegister&&"function"==typeof this.formulateRegister&&this.formulateRegister(this.nameOrFallback,this),this.applyDefaultValue(),this.disableErrors||"function"!=typeof this.observeErrors||this.observeErrors({callback:this.setErrors,type:"input",field:this.nameOrFallback}),this.updateLocalAttributes(this.$attrs),this.performValidation()},beforeDestroy:function(){this.disableErrors||"function"!=typeof this.removeErrorObserver||this.removeErrorObserver(this.setErrors),"function"==typeof this.formulateDeregister&&this.formulateDeregister(this.nameOrFallback)},methods:{getInitialValue:function(){var t=this.$formulate.classify(this.type);return"box"===(t="box"===t&&this.options?"group":t)&&this.checked?this.value||!0:Ae(this.$options.propsData,"value")&&"box"!==t?this.value:Ae(this.$options.propsData,"formulateValue")?this.formulateValue:""},applyInitialValue:function(){!ye(this.context.model,this.proxy)&&Ae(this.$options.propsData,"options")&&"box"===this.classification&&(this.context.model=this.proxy)},applyDefaultValue:function(){"select"===this.type&&!this.context.placeholder&&we(this.proxy)&&!this.isVmodeled&&!1===this.value&&this.context.options.length&&(this.context.model=this.context.options[0].value)},updateLocalAttributes:function(t){ye(t,this.localAttributes)||(this.localAttributes=t)},performValidation:function(){var t=this,e=_e(this.validation,this.$formulate.rules(this.parsedValidationRules));return e=this.ruleRegistry.length?this.ruleRegistry.concat(e):e,this.pendingValidation=this.runRules(e).then((function(e){return t.didValidate(e)})),this.pendingValidation},runRules:function(t){var e=this,r=function(t){var r=t[0],n=t[1],i=t[2],o=(t[3],r.apply(void 0,[{value:e.context.model,getFormValues:function(){for(var t,r=[],n=arguments.length;n--;)r[n]=arguments[n];return(t=e).getFormValues.apply(t,[e].concat(r))},name:e.context.name}].concat(n)));return(o=o instanceof Promise?o:Promise.resolve(o)).then((function(t){return!t&&e.getMessage(i,n)}))};return new Promise((function(e){var n=function(t,i){void 0===i&&(i=[]);var o=t.shift();Array.isArray(o)&&o.length?Promise.all(o.map(r)).then((function(t){return t.filter((function(t){return!!t}))})).then((function(r){return(r=Array.isArray(r)?r:[]).length&&o.bail||!t.length?e(i.concat(r).filter((function(t){return!we(t)}))):n(t,i.concat(r))})):e([])};n(function(t){var e=[],r=t.findIndex((function(t){return"bail"===t[2].toLowerCase()})),n=t.findIndex((function(t){return"optional"===t[2].toLowerCase()}));if(n>=0){var i=t.splice(n,1);e.push(Object.defineProperty(i,"bail",{value:!0}))}if(r>=0){var o=t.splice(0,r+1).slice(0,-1);o.length&&e.push(o),t.map((function(t){return e.push(Object.defineProperty([t],"bail",{value:!0}))}))}else e.push(t);return e.reduce((function(t,e){var r=function(t,e){if(void 0===e&&(e=!1),t.length<2)return Object.defineProperty([t],"bail",{value:e});var n=[],i=t.findIndex((function(t){return"^"===t[3]}));if(i>=0){var o=t.splice(0,i);o.length&&n.push.apply(n,r(o,e)),n.push(Object.defineProperty([t.shift()],"bail",{value:!0})),t.length&&n.push.apply(n,r(t,e))}else n.push(t);return n};return t.concat(r(e))}),[])}(t))}))},didValidate:function(t){var e=!ye(t,this.validationErrors);if(this.validationErrors=t,e){var r=this.getErrorObject();this.$emit("validation",r),this.formulateFieldValidation&&"function"==typeof this.formulateFieldValidation&&this.formulateFieldValidation(r)}},getMessage:function(t,e){var r=this;return this.getMessageFunc(t)({args:e,name:this.mergedValidationName,value:this.context.model,vm:this,formValues:this.getFormValues(this),getFormValues:function(){for(var t,e=[],n=arguments.length;n--;)e[n]=arguments[n];return(t=r).getFormValues.apply(t,[r].concat(e))}})},getMessageFunc:function(t){var e=this;if("optional"===(t=ge(t)))return function(){return[]};if(this.messages&&void 0!==this.messages[t])switch(typeof this.messages[t]){case"function":return this.messages[t];case"string":case"boolean":return function(){return e.messages[t]}}return function(r){return e.$formulate.validationMessage(t,r,e)}},hasValidationErrors:function(){var t=this;return new Promise((function(e){t.$nextTick((function(){t.pendingValidation.then((function(){return e(!!t.validationErrors.length)}))}))}))},getValidationErrors:function(){var t=this;return new Promise((function(e){t.$nextTick((function(){return t.pendingValidation.then((function(){return e(t.getErrorObject())}))}))}))},getErrorObject:function(){return{name:this.context.nameOrFallback||this.context.name,errors:this.validationErrors.filter((function(t){return"string"==typeof t})),hasErrors:!!this.validationErrors.length}},setErrors:function(t){this.localErrors=xe(t)},registerRule:function(t,e,r,n){void 0===n&&(n=null),this.ruleRegistry.some((function(t){return t[2]===r}))||(this.ruleRegistry.push([t,e,r]),null!==n&&(this.messageRegistry[r]=n))},removeRule:function(t){var e=this.ruleRegistry.findIndex((function(e){return e[2]===t}));e>=0&&(this.ruleRegistry.splice(e,1),delete this.messageRegistry[t])}}},cn=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{class:t.context.classes.outer,attrs:{"data-classification":t.classification,"data-has-errors":t.hasErrors,"data-is-showing-errors":t.hasVisibleErrors,"data-has-value":t.hasValue,"data-type":t.type}},[r("div",{class:t.context.classes.wrapper},["before"===t.context.labelPosition?t._t("label",[t.context.hasLabel?r(t.context.slotComponents.label,t._b({tag:"component",attrs:{context:t.context}},"component",t.context.slotProps.label,!1)):t._e()],null,t.context):t._e(),t._v(" "),"before"===t.context.helpPosition?t._t("help",[t.context.help?r(t.context.slotComponents.help,t._b({tag:"component",attrs:{context:t.context}},"component",t.context.slotProps.help,!1)):t._e()],null,t.context):t._e(),t._v(" "),t._t("element",[r(t.context.component,t._g(t._b({tag:"component",attrs:{context:t.context}},"component",t.context.slotProps.component,!1),t.listeners),[t._t("default",null,null,t.context)],2)],null,t.context),t._v(" "),"after"===t.context.labelPosition?t._t("label",[t.context.hasLabel?r(t.context.slotComponents.label,t._b({tag:"component",attrs:{context:t.context}},"component",t.context.slotProps.label,!1)):t._e()],null,t.context):t._e()],2),t._v(" "),"after"===t.context.helpPosition?t._t("help",[t.context.help?r(t.context.slotComponents.help,t._b({tag:"component",attrs:{context:t.context}},"component",t.context.slotProps.help,!1)):t._e()],null,t.context):t._e(),t._v(" "),t._t("errors",[t.context.disableErrors?t._e():r(t.context.slotComponents.errors,t._b({tag:"component",attrs:{type:"FormulateErrors"===t.context.slotComponents.errors&&"input",context:t.context}},"component",t.context.slotProps.errors,!1))],null,t.context)],2)};cn._withStripped=!0;var hn=ue({render:cn,staticRenderFns:[]},void 0,ln,void 0,!1,void 0,!1,void 0,void 0,void 0),dn={inject:{observeErrors:{default:!1},removeErrorObserver:{default:!1}},props:{context:{type:Object,default:function(){return{}}},type:{type:String,default:"form"}},data:function(){return{boundSetErrors:this.setErrors.bind(this),localErrors:[]}},computed:{visibleValidationErrors:function(){return Array.isArray(this.context.visibleValidationErrors)?this.context.visibleValidationErrors:[]},errors:function(){return Array.isArray(this.context.errors)?this.context.errors:[]},mergedErrors:function(){return this.errors.concat(this.localErrors)},visibleErrors:function(){return Array.from(new Set(this.mergedErrors.concat(this.visibleValidationErrors))).filter((function(t){return"string"==typeof t}))},outerClass:function(){return"input"===this.type&&this.context.classes?this.context.classes.errors:"formulate-"+this.type+"-errors"},itemClass:function(){return"input"===this.type&&this.context.classes?this.context.classes.error:"formulate-"+this.type+"-error"}},created:function(){"form"!==this.type||"function"!=typeof this.observeErrors||Array.isArray(this.context.errors)||this.observeErrors({callback:this.boundSetErrors,type:this.type})},destroyed:function(){"form"!==this.type||"function"!=typeof this.removeErrorObserver||Array.isArray(this.context.errors)||this.removeErrorObserver(this.boundSetErrors)},methods:{setErrors:function(t){this.localErrors=xe(t)}}},pn=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.visibleErrors.length?r("ul",{class:t.outerClass},t._l(t.visibleErrors,(function(e){return r("li",{key:e,class:t.itemClass,domProps:{textContent:t._s(e)}})})),0):t._e()};pn._withStripped=!0;var fn=ue({render:pn,staticRenderFns:[]},void 0,dn,void 0,!1,void 0,!1,void 0,void 0,void 0),mn={props:{context:{type:Object,required:!0}}},vn=function(){var t=this.$createElement,e=this._self._c||t;return this.context.help?e("div",{class:this.context.classes.help,attrs:{id:this.context.id+"-help"},domProps:{textContent:this._s(this.context.help)}}):this._e()};vn._withStripped=!0;var yn=ue({render:vn,staticRenderFns:[]},void 0,mn,void 0,!1,void 0,!1,void 0,void 0,void 0),gn={name:"FormulateGrouping",props:{context:{type:Object,required:!0}},provide:function(){return{isSubField:function(){return!0},registerProvider:this.registerProvider,deregisterProvider:this.deregisterProvider}},data:function(){return{providers:[]}},inject:["formulateRegisterRule","formulateRemoveRule"],computed:{items:function(){return Array.isArray(this.context.model)?this.context.repeatable||0!==this.context.model.length?this.context.model.map((function(t){return Fe(t,t.__id)})):[Fe({})]:new Array(this.context.minimum||1).fill("").map((function(){return Fe({})}))},formShouldShowErrors:function(){return this.context.formShouldShowErrors}},watch:{providers:function(){this.formShouldShowErrors&&this.showErrors()},formShouldShowErrors:function(t){t&&this.showErrors()}},created:function(){this.formulateRegisterRule(this.validateGroup.bind(this),[],"formulateGrouping",!0)},destroyed:function(){this.formulateRemoveRule("formulateGrouping")},methods:{getAtIndex:function(t){return void 0!==this.context.model[t]&&this.context.model[t].__id?this.context.model[t]:void 0!==this.context.model[t]?Fe(this.context.model[t]):void 0===this.context.model[t]&&void 0!==this.items[t]?Fe({},this.items[t].__id):Fe({})},setFieldValue:function(t,e,r){var n,i=Array.isArray(this.context.model)?this.context.model:[],o=this.getAtIndex(t),s=Fe(Object.assign({},o,((n={})[e]=r,n)),o.__id);i.splice(t,1,s),this.context.model=i},validateGroup:function(){return Promise.all(this.providers.reduce((function(t,e){return e&&"function"==typeof e.hasValidationErrors&&t.push(e.hasValidationErrors()),t}),[])).then((function(t){return!t.some((function(t){return!!t}))}))},showErrors:function(){this.providers.forEach((function(t){return t&&"function"==typeof t.showErrors&&t.showErrors()}))},removeItem:function(t){Array.isArray(this.context.model)&&this.context.model.length>this.context.minimum?this.context.model.splice(t,1):this.items.length>this.context.minimum&&(this.context.model=new Array(this.items.length-1).fill("").map((function(){return Fe({})})))},registerProvider:function(t){this.providers.some((function(e){return e===t}))||this.providers.push(t)},deregisterProvider:function(t){this.providers=this.providers.filter((function(e){return e!==t}))}}},bn=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("FormulateSlot",{class:t.context.classes.grouping,attrs:{name:"grouping",context:t.context,"force-wrap":t.context.repeatable}},t._l(t.items,(function(e,n){return r("FormulateRepeatableProvider",{key:e.__id,attrs:{index:n,"set-field-value":function(e,r){return t.setFieldValue(n,e,r)},context:t.context},on:{remove:t.removeItem}},[t._t("default")],2)})),1)};bn._withStripped=!0;var xn=ue({render:bn,staticRenderFns:[]},void 0,gn,void 0,!1,void 0,!1,void 0,void 0,void 0),_n={props:{context:{type:Object,required:!0}}},kn=function(){var t=this.$createElement;return(this._self._c||t)("label",{class:this.context.classes.label,attrs:{for:this.context.id},domProps:{textContent:this._s(this.context.label)}})};kn._withStripped=!0;var En=ue({render:kn,staticRenderFns:[]},void 0,_n,void 0,!1,void 0,!1,void 0,void 0,void 0),An={props:{context:{type:Object,required:!0},addMore:{type:Function,required:!0}}},Fn=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{class:this.context.classes.groupAddMore},[e("FormulateInput",{attrs:{type:"button",label:this.context.addLabel,"data-minor":"","data-ghost":""},on:{click:this.addMore}})],1)};Fn._withStripped=!0;var wn=ue({render:Fn,staticRenderFns:[]},void 0,An,void 0,!1,void 0,!1,void 0,void 0,void 0),Pn={props:{context:{type:Object,required:!0}},computed:{type:function(){return this.context.type},attributes:function(){return this.context.attributes||{}},hasValue:function(){return this.context.hasValue}}},Sn={name:"FormulateInputBox",mixins:[Pn]},On=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{class:t.context.classes.element,attrs:{"data-type":t.context.type}},["radio"===t.type?r("input",t._g(t._b({directives:[{name:"model",rawName:"v-model",value:t.context.model,expression:"context.model"}],attrs:{type:"radio"},domProps:{value:t.context.value,checked:t._q(t.context.model,t.context.value)},on:{blur:t.context.blurHandler,change:function(e){return t.$set(t.context,"model",t.context.value)}}},"input",t.attributes,!1),t.$listeners)):r("input",t._g(t._b({directives:[{name:"model",rawName:"v-model",value:t.context.model,expression:"context.model"}],attrs:{type:"checkbox"},domProps:{value:t.context.value,checked:Array.isArray(t.context.model)?t._i(t.context.model,t.context.value)>-1:t.context.model},on:{blur:t.context.blurHandler,change:function(e){var r=t.context.model,n=e.target,i=!!n.checked;if(Array.isArray(r)){var o=t.context.value,s=t._i(r,o);n.checked?s<0&&t.$set(t.context,"model",r.concat([o])):s>-1&&t.$set(t.context,"model",r.slice(0,s).concat(r.slice(s+1)))}else t.$set(t.context,"model",i)}}},"input",t.attributes,!1),t.$listeners)),t._v(" "),r("label",{tag:"component",class:t.context.classes.decorator,attrs:{for:t.attributes.id}})],1)};On._withStripped=!0;var Cn=ue({render:On,staticRenderFns:[]},void 0,Sn,void 0,!1,void 0,!1,void 0,void 0,void 0),Vn={name:"FormulateInputText",mixins:[Pn]},jn=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{class:t.context.classes.element,attrs:{"data-type":t.context.type}},["checkbox"===t.type?r("input",t._g(t._b({directives:[{name:"model",rawName:"v-model",value:t.context.model,expression:"context.model"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.context.model)?t._i(t.context.model,null)>-1:t.context.model},on:{blur:t.context.blurHandler,change:function(e){var r=t.context.model,n=e.target,i=!!n.checked;if(Array.isArray(r)){var o=t._i(r,null);n.checked?o<0&&t.$set(t.context,"model",r.concat([null])):o>-1&&t.$set(t.context,"model",r.slice(0,o).concat(r.slice(o+1)))}else t.$set(t.context,"model",i)}}},"input",t.attributes,!1),t.$listeners)):"radio"===t.type?r("input",t._g(t._b({directives:[{name:"model",rawName:"v-model",value:t.context.model,expression:"context.model"}],attrs:{type:"radio"},domProps:{checked:t._q(t.context.model,null)},on:{blur:t.context.blurHandler,change:function(e){return t.$set(t.context,"model",null)}}},"input",t.attributes,!1),t.$listeners)):r("input",t._g(t._b({directives:[{name:"model",rawName:"v-model",value:t.context.model,expression:"context.model"}],attrs:{type:t.type},domProps:{value:t.context.model},on:{blur:t.context.blurHandler,input:function(e){e.target.composing||t.$set(t.context,"model",e.target.value)}}},"input",t.attributes,!1),t.$listeners))])};jn._withStripped=!0;var Dn=ue({render:jn,staticRenderFns:[]},void 0,Vn,void 0,!1,void 0,!1,void 0,void 0,void 0),$n={name:"FormulateFiles",props:{files:{type:me,required:!0},imagePreview:{type:Boolean,default:!1},context:{type:Object,required:!0}},computed:{fileUploads:function(){return this.files.files||[]}},watch:{files:function(){this.imagePreview&&this.files.loadPreviews()}},mounted:function(){this.imagePreview&&this.files.loadPreviews()}},Bn=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.fileUploads.length?r("ul",{class:t.context.classes.files},t._l(t.fileUploads,(function(e){return r("li",{key:e.uuid,attrs:{"data-has-error":!!e.error,"data-has-preview":!(!t.imagePreview||!e.previewData)}},[r("div",{class:t.context.classes.file},[t.imagePreview&&e.previewData?r("div",{class:t.context.classes.fileImagePreview},[r("img",{attrs:{src:e.previewData}})]):t._e(),t._v(" "),r("div",{class:t.context.classes.fileName,attrs:{title:e.name},domProps:{textContent:t._s(e.name)}}),t._v(" "),!1!==e.progress?r("div",{class:t.context.classes.fileProgress,attrs:{"data-just-finished":e.justFinished,"data-is-finished":!e.justFinished&&e.complete}},[r("div",{class:t.context.classes.fileProgressInner,style:{width:e.progress+"%"}})]):t._e(),t._v(" "),e.complete&&!e.justFinished||!1===e.progress?r("div",{class:t.context.classes.fileRemove,on:{click:e.removeFile}}):t._e()]),t._v(" "),e.error?r("div",{class:t.context.classes.fileUploadError,domProps:{textContent:t._s(e.error)}}):t._e()])})),0):t._e()};Bn._withStripped=!0;var In={name:"FormulateInputFile",components:{FormulateFiles:ue({render:Bn,staticRenderFns:[]},void 0,$n,void 0,!1,void 0,!1,void 0,void 0,void 0)},mixins:[Pn],data:function(){return{isOver:!1}},computed:{hasFiles:function(){return!!(this.context.model instanceof me&&this.context.model.files.length)}},created:function(){Array.isArray(this.context.model)&&"string"==typeof this.context.model[0][this.$formulate.getFileUrlKey()]&&(this.context.model=this.$formulate.createUpload({files:this.context.model},this.context))},mounted:function(){window&&this.context.preventWindowDrops&&(window.addEventListener("dragover",this.preventDefault),window.addEventListener("drop",this.preventDefault))},destroyed:function(){window&&this.context.preventWindowDrops&&(window.removeEventListener("dragover",this.preventDefault),window.removeEventListener("drop",this.preventDefault))},methods:{preventDefault:function(t){"INPUT"!==t.target.tagName&&"file"!==t.target.getAttribute("type")&&(t=t||event).preventDefault()},handleFile:function(){var t=this;this.isOver=!1;var e=this.$refs.file;e.files.length&&(this.context.model=this.$formulate.createUpload(e,this.context),this.$nextTick((function(){return t.attemptImmediateUpload()})))},attemptImmediateUpload:function(){var t=this;"live"===this.context.uploadBehavior&&this.context.model instanceof me&&this.context.hasValidationErrors().then((function(e){e||t.context.model.upload()}))},handleDragOver:function(t){t.preventDefault(),this.isOver=!0},handleDragLeave:function(t){t.preventDefault(),this.isOver=!1}}},Rn=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{class:t.context.classes.element,attrs:{"data-type":t.context.type,"data-has-files":t.hasFiles}},[r("div",{class:t.context.classes.uploadArea,attrs:{"data-has-files":t.hasFiles}},[r("input",t._g(t._b({ref:"file",attrs:{"data-is-drag-hover":t.isOver,type:"file"},on:{blur:t.context.blurHandler,change:t.handleFile,dragover:t.handleDragOver,dragleave:t.handleDragLeave}},"input",t.attributes,!1),t.$listeners)),t._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:!t.hasFiles,expression:"!hasFiles"}],class:t.context.classes.uploadAreaMask}),t._v(" "),t.hasFiles?r("FormulateFiles",{attrs:{files:t.context.model,"image-preview":"image"===t.context.type&&"preview"===t.context.imageBehavior,context:t.context}}):t._e()],1)])};Rn._withStripped=!0;var Mn=ue({render:Rn,staticRenderFns:[]},void 0,In,void 0,!1,void 0,!1,void 0,void 0,void 0),Nn={props:{context:{type:Object,required:!0},removeItem:{type:Function,required:!0},index:{type:Number,required:!0}}},Tn=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{class:t.context.classes.groupRepeatable},[r("FormulateSlot",{attrs:{name:"remove",context:t.context,"remove-item":t.removeItem}},[r(t.context.slotComponents.remove,t._b({tag:"component",attrs:{context:t.context,"remove-item":t.removeItem}},"component",t.context.slotProps.remove,!1))],1),t._v(" "),t._t("default")],2)};Tn._withStripped=!0;var Ln=ue({render:Tn,staticRenderFns:[]},void 0,Nn,void 0,!1,void 0,!1,void 0,void 0,void 0);function Un(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&-1===e.indexOf(n)&&(r[n]=t[n]);return r}var Hn={name:"FormulateInputGroup",props:{context:{type:Object,required:!0}},computed:{options:function(){return this.context.options||[]},subType:function(){return"group"===this.context.type?"grouping":"inputs"},optionsWithContext:function(){var t=this,e=this.context,r=e.attributes,n=(r.id,Un(r,["id"])),i=(e.blurHandler,e.classification,e.component,e.getValidationErrors,e.hasLabel,e.hasValidationErrors,e.isSubField,e.isValid,e.labelPosition,e.options,e.performValidation,e.setErrors,e.slotComponents,e.slotProps,e.validationErrors,e.visibleValidationErrors,e.classes,e.showValidationErrors,e.rootEmit,e.help,e.pseudoProps,Un(e,["attributes","blurHandler","classification","component","getValidationErrors","hasLabel","hasValidationErrors","isSubField","isValid","labelPosition","options","performValidation","setErrors","slotComponents","slotProps","validationErrors","visibleValidationErrors","classes","showValidationErrors","rootEmit","help","pseudoProps"]));return this.options.map((function(e){return t.groupItemContext(i,e,n)}))},totalItems:function(){return Array.isArray(this.context.model)?this.context.model.length:this.context.minimum||1},canAddMore:function(){return this.context.repeatable&&this.totalItems<this.context.limit}},methods:{addItem:function(){if(Array.isArray(this.context.model))return this.context.model.push(Fe({}));this.context.model=new Array(this.totalItems+1).fill("").map((function(){return Fe({})}))},groupItemContext:function(t,e,r){return Object.assign({},t,e,r,{isGrouped:!0},t.hasGivenName?{}:{name:!0})}}},Gn=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{class:t.context.classes.element,attrs:{"data-is-repeatable":t.context.repeatable}},["grouping"!==t.subType?t._l(t.optionsWithContext,(function(e){return r("FormulateInput",t._b({key:e.id,staticClass:"formulate-input-group-item",attrs:{"disable-errors":!0},on:{blur:t.context.blurHandler},model:{value:t.context.model,callback:function(e){t.$set(t.context,"model",e)},expression:"context.model"}},"FormulateInput",e,!1))})):[r("FormulateGrouping",{attrs:{context:t.context}},[t._t("default")],2),t._v(" "),t.canAddMore?r("FormulateSlot",{attrs:{name:"addmore",context:t.context,"add-more":t.addItem}},[r(t.context.slotComponents.addMore,t._b({tag:"component",attrs:{context:t.context,"add-more":t.addItem},on:{add:t.addItem}},"component",t.context.slotProps.addMore,!1))],1):t._e()]],2)};Gn._withStripped=!0;var qn=ue({render:Gn,staticRenderFns:[]},void 0,Hn,void 0,!1,void 0,!1,void 0,void 0,void 0),Wn={name:"FormulateInputButton",mixins:[Pn]},zn=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{class:t.context.classes.element,attrs:{"data-type":t.context.type}},[r("button",t._g(t._b({attrs:{type:t.type}},"button",t.attributes,!1),t.$listeners),[t._t("default",[r("span",{class:"formulate-input-element--"+t.context.type+"--label",domProps:{textContent:t._s(t.context.value||t.context.label||t.context.name||"Submit")}})])],2)])};zn._withStripped=!0;var Yn=ue({render:zn,staticRenderFns:[]},void 0,Wn,void 0,!1,void 0,!1,void 0,void 0,void 0),Zn={name:"FormulateInputSelect",mixins:[Pn],computed:{options:function(){return this.context.options||{}},optionGroups:function(){return this.context.optionGroups||!1},placeholderSelected:function(){return!(this.hasValue||!this.context.attributes||!this.context.attributes.placeholder)}}},Kn=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{class:t.context.classes.element,attrs:{"data-type":t.context.type}},[r("select",t._g(t._b({directives:[{name:"model",rawName:"v-model",value:t.context.model,expression:"context.model"}],attrs:{"data-placeholder-selected":t.placeholderSelected},on:{blur:t.context.blurHandler,change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.context,"model",e.target.multiple?r:r[0])}}},"select",t.attributes,!1),t.$listeners),[t.context.placeholder?r("option",{attrs:{value:"",disabled:""},domProps:{selected:!t.hasValue}},[t._v("\n      "+t._s(t.context.placeholder)+"\n    ")]):t._e(),t._v(" "),t.optionGroups?t._l(t.optionGroups,(function(e,n){return r("optgroup",{key:n,attrs:{label:n}},t._l(e,(function(e){return r("option",t._b({key:e.id,domProps:{value:e.value,textContent:t._s(e.label)}},"option",e.attributes||{},!1))})),0)})):t._l(t.options,(function(e){return r("option",t._b({key:e.id,domProps:{value:e.value,textContent:t._s(e.label)}},"option",e.attributes||{},!1))}))],2)])};Kn._withStripped=!0;var Jn=ue({render:Kn,staticRenderFns:[]},void 0,Zn,void 0,!1,void 0,!1,void 0,void 0,void 0),Xn={name:"FormulateInputSlider",mixins:[Pn]},Qn=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{class:t.context.classes.element,attrs:{"data-type":t.context.type}},["checkbox"===t.type?r("input",t._g(t._b({directives:[{name:"model",rawName:"v-model",value:t.context.model,expression:"context.model"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.context.model)?t._i(t.context.model,null)>-1:t.context.model},on:{blur:t.context.blurHandler,change:function(e){var r=t.context.model,n=e.target,i=!!n.checked;if(Array.isArray(r)){var o=t._i(r,null);n.checked?o<0&&t.$set(t.context,"model",r.concat([null])):o>-1&&t.$set(t.context,"model",r.slice(0,o).concat(r.slice(o+1)))}else t.$set(t.context,"model",i)}}},"input",t.attributes,!1),t.$listeners)):"radio"===t.type?r("input",t._g(t._b({directives:[{name:"model",rawName:"v-model",value:t.context.model,expression:"context.model"}],attrs:{type:"radio"},domProps:{checked:t._q(t.context.model,null)},on:{blur:t.context.blurHandler,change:function(e){return t.$set(t.context,"model",null)}}},"input",t.attributes,!1),t.$listeners)):r("input",t._g(t._b({directives:[{name:"model",rawName:"v-model",value:t.context.model,expression:"context.model"}],attrs:{type:t.type},domProps:{value:t.context.model},on:{blur:t.context.blurHandler,input:function(e){e.target.composing||t.$set(t.context,"model",e.target.value)}}},"input",t.attributes,!1),t.$listeners)),t._v(" "),t.context.showValue?r("div",{class:t.context.classes.rangeValue,domProps:{textContent:t._s(t.context.model)}}):t._e()])};Qn._withStripped=!0;var ti=ue({render:Qn,staticRenderFns:[]},void 0,Xn,void 0,!1,void 0,!1,void 0,void 0,void 0),ei={name:"FormulateInputTextArea",mixins:[Pn]},ri=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{class:t.context.classes.element,attrs:{"data-type":"textarea"}},[r("textarea",t._g(t._b({directives:[{name:"model",rawName:"v-model",value:t.context.model,expression:"context.model"}],domProps:{value:t.context.model},on:{blur:t.context.blurHandler,input:function(e){e.target.composing||t.$set(t.context,"model",e.target.value)}}},"textarea",t.attributes,!1),t.$listeners))])};ri._withStripped=!0;var ni=ue({render:ri,staticRenderFns:[]},void 0,ei,void 0,!1,void 0,!1,void 0,void 0,void 0),ii={provide:function(){var t=this;return Object.assign({},Kr(this,["getFormValues"]),{formulateSetter:function(e,r){return t.setFieldValue(e,r)}})},inject:{registerProvider:"registerProvider",deregisterProvider:"deregisterProvider"},props:{index:{type:Number,required:!0},context:{type:Object,required:!0},setFieldValue:{type:Function,required:!0}},data:function(){return Object.assign({},zr(this),{isGrouping:!0})},computed:Object.assign({},Yr()),created:function(){this.registerProvider(this)},beforeDestroy:function(){this.deregisterProvider(this)},methods:Object.assign({},Zr(["setFieldValue"]),{removeItem:function(){this.$emit("remove",this.index)}})},oi=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("FormulateSlot",{attrs:{name:"repeatable",context:t.context,index:t.index,"remove-item":t.removeItem}},[r(t.context.slotComponents.repeatable,t._b({tag:"component",attrs:{context:t.context,index:t.index,"remove-item":t.removeItem}},"component",t.context.slotProps.repeatable,!1),[r("FormulateSlot",{attrs:{context:t.context,index:t.index,name:"default"}})],1)],1)};oi._withStripped=!0;var si=ue({render:oi,staticRenderFns:[]},void 0,ii,void 0,!1,void 0,!1,void 0,void 0,void 0),ai={props:{context:{type:Object,required:!0},removeItem:{type:Function,required:!0}}},ui=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.context.repeatable?r("a",{class:t.context.classes.groupRepeatableRemove,attrs:{role:"button"},domProps:{textContent:t._s("Remove")},on:{click:function(e){return e.preventDefault(),t.removeItem(e)},keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.removeItem(e)}}}):t._e()};ui._withStripped=!0;var li=ue({render:ui,staticRenderFns:[]},void 0,ai,void 0,!1,void 0,!1,void 0,void 0,void 0),ci=function(){this.options={},this.defaults={components:{FormulateSlot:Ur,FormulateForm:tn,FormulateHelp:yn,FormulateLabel:En,FormulateInput:hn,FormulateErrors:fn,FormulateSchema:Gr,FormulateAddMore:wn,FormulateGrouping:xn,FormulateInputBox:Cn,FormulateInputText:Dn,FormulateInputFile:Mn,FormulateRepeatable:Ln,FormulateInputGroup:qn,FormulateInputButton:Yn,FormulateInputSelect:Jn,FormulateInputSlider:ti,FormulateInputTextArea:ni,FormulateRepeatableRemove:li,FormulateRepeatableProvider:si},slotComponents:{label:"FormulateLabel",help:"FormulateHelp",errors:"FormulateErrors",repeatable:"FormulateRepeatable",addMore:"FormulateAddMore",remove:"FormulateRepeatableRemove"},slotProps:{},library:Cr,rules:Vr,mimes:Dr,locale:!1,uploader:Tr,uploadUrl:!1,fileUrlKey:"url",uploadJustCompleteDuration:1e3,errorHandler:function(t){return t},plugins:[d],locales:{},idPrefix:"formulate-",baseClasses:function(t){return t},coreClasses:Nr,classes:{}},this.registry=new Map,this.idRegistry={}};ci.prototype.install=function(t,e){var r=this;t.prototype.$formulate=this,this.options=this.defaults;var n=this.defaults.plugins;for(var i in e&&Array.isArray(e.plugins)&&e.plugins.length&&(n=n.concat(e.plugins)),n.forEach((function(t){return"function"==typeof t?t(r):null})),this.extend(e||{}),this.options.components)t.component(i,this.options.components[i])},ci.prototype.nextId=function(t){var e=!(!t.$route||!t.$route.path)&&t.$route.path?t.$route.path.replace(/[/\\.\s]/g,"-"):"global";return Object.prototype.hasOwnProperty.call(this.idRegistry,e)||(this.idRegistry[e]=0),""+this.options.idPrefix+e+"-"+ ++this.idRegistry[e]},ci.prototype.extend=function(t){if("object"==typeof t)return this.options=this.merge(this.options,t),this;throw new Error("Formulate.extend expects an object, was "+typeof t)},ci.prototype.merge=function(t,e,r){void 0===r&&(r=!0);var n={};for(var i in t)e.hasOwnProperty(i)?l(e[i])&&l(t[i])?n[i]=this.merge(t[i],e[i],r):r&&Array.isArray(t[i])&&Array.isArray(e[i])?n[i]=t[i].concat(e[i]):n[i]=e[i]:n[i]=t[i];for(var o in e)n.hasOwnProperty(o)||(n[o]=e[o]);return n},ci.prototype.classify=function(t){return this.options.library.hasOwnProperty(t)?this.options.library[t].classification:"unknown"},ci.prototype.classes=function(t){var e=this,r=this.options.coreClasses(t),n=this.options.baseClasses(r,t);return Object.keys(n).reduce((function(r,i){var o,s=Mr(n[i],e.options.classes[i],t);return s=function(t,e,r,n){return Object.keys(Br).reduce((function(e,i){if(Br[i](n)){var o=""+t+be(i),s=o+"Class";if(r[o])e=Mr(e,"string"==typeof r[o]?xe(r[o]):r[o],n);if(n[s])e=Mr(e,"string"==typeof n[s]?xe(n[s]):n[o+"Class"],n)}return e}),e)}(i,s=Mr(s,t[i+"Class"],t),e.options.classes,t),Object.assign(r,((o={})[i]=s,o))}),{})},ci.prototype.typeProps=function(t){var e=function(t){return Object.keys(t).reduce((function(e,r){return Array.isArray(t[r])?e.concat(t[r]):e}),[])},r=e(this.options.slotProps);return this.options.library[t]?r.concat(e(this.options.library[t].slotProps||{})):r},ci.prototype.slotProps=function(t,e,r){var n=Array.isArray(this.options.slotProps[e])?this.options.slotProps[e]:[],i=this.options.library[t];return i&&i.slotProps&&Array.isArray(i.slotProps[e])&&(n=n.concat(i.slotProps[e])),n.reduce((function(t,e){var n;return Object.assign(t,((n={})[e]=r[e],n))}),{})},ci.prototype.component=function(t){return!!this.options.library.hasOwnProperty(t)&&this.options.library[t].component},ci.prototype.slotComponent=function(t,e){var r=this.options.library[t];return r&&r.slotComponents&&r.slotComponents[e]?r.slotComponents[e]:this.options.slotComponents[e]},ci.prototype.rules=function(t){return void 0===t&&(t={}),Object.assign({},this.options.rules,t)},ci.prototype.i18n=function(t){if(t.$i18n)switch(typeof t.$i18n.locale){case"string":return t.$i18n.locale;case"function":return t.$i18n.locale()}return!1},ci.prototype.getLocale=function(t){var e=this;return this.selectedLocale||(this.selectedLocale=[this.options.locale,this.i18n(t),"en"].reduce((function(t,r){if(t)return t;if(r){var n=function(t){return t.split("-").reduce((function(t,e){return t.length&&t.unshift(t[0]+"-"+e),t.length?t:[e]}),[])}(r).find((function(t){return Ae(e.options.locales,t)}));n&&(t=n)}return t}),!1)),this.selectedLocale},ci.prototype.validationMessage=function(t,e,r){var n=this.options.locales[this.getLocale(r)];return n.hasOwnProperty(t)?n[t](e):n.hasOwnProperty("default")?n.default(e):"Invalid field value"},ci.prototype.register=function(t){"FormulateForm"===t.$options.name&&t.name&&this.registry.set(t.name,t)},ci.prototype.deregister=function(t){"FormulateForm"===t.$options.name&&t.name&&this.registry.has(t.name)&&this.registry.delete(t.name)},ci.prototype.handle=function(t,e,r){void 0===r&&(r=!1);var n=r?t:this.options.errorHandler(t,e);return e&&this.registry.has(e)&&this.registry.get(e).applyErrors({formErrors:xe(n.formErrors),inputErrors:n.inputErrors||{}}),n},ci.prototype.reset=function(t,e){void 0===e&&(e={}),this.resetValidation(t),this.setValues(t,e)},ci.prototype.submit=function(t){this.registry.get(t).formSubmitted()},ci.prototype.resetValidation=function(t){var e=this.registry.get(t);e.hideErrors(t),e.namedErrors=[],e.namedFieldErrors={}},ci.prototype.setValues=function(t,e){e&&!Array.isArray(e)&&"object"==typeof e&&this.registry.get(t).setValues(Object.assign({},e))},ci.prototype.getUploader=function(){return this.options.uploader||!1},ci.prototype.getUploadUrl=function(){return this.options.uploadUrl||!1},ci.prototype.getFileUrlKey=function(){return this.options.fileUrlKey||"url"},ci.prototype.createUpload=function(t,e){return new me(t,e,this.options)};var hi=new ci,di={FormulateForm:Oe,FormulateSchema:fe,FormulateInput:he},pi={formEvents:Ve,textMask:Pr,enforceNumber:Sr};return t.components=di,t.default=function(t){void 0===t&&(t={});var e=hi.merge({features:{formEvents:!0,textMask:!1,enforceNumber:!1},override:{FormulateForm:!0,FormulateInput:!0,FormulateSchema:!0}},t);return function(t){e.override.FormulateForm&&t.extend({components:{FormulateForm:Oe}}),e.override.FormulateInput&&t.extend({components:{FormulateInput:he}}),e.override.FormulateSchema&&t.extend({components:{FormulateSchema:fe}}),e.features.formEvents&&t.extend(Ve),e.features.textMask&&t.extend(Pr),e.features.enforceNumber&&t.extend(Sr)}},t.features=pi,t}({});
